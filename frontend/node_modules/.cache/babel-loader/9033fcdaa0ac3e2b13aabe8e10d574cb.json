{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Calendar.js\",\n    _s = $RefreshSig$();\n\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport React, { useState, useEffect } from \"react\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\"; // import AddPopup from \"./AddPopup\"\n\nimport * as router from \"./vendorAPI\";\nexport default function MyCalendar() {\n  _s();\n\n  const [eventTitle, setEventTitle] = useState(\"\");\n  const [eventDescription, setEventDescription] = useState(\"\");\n  const [vendor, setVendor] = useState(\"Choose Vendor:\");\n  const [eventStart, setEventStart] = useState(\"\");\n  const [eventEnd, setEventEnd] = useState(\"\");\n  const [allDay, setAllDay] = useState(false);\n  const [isAddPopupHidden, setAddPopupHidden] = useState(true);\n  const [isEventPopupHidden, setEventPopupHidden] = useState(true);\n  const [clickedEvent, setClickedEvent] = useState({\n    title: \"Default title\",\n    description: \"Default description\",\n    vendor: \"Default vendor\",\n    start: \"Default start\",\n    end: \"Default end\"\n  });\n  const [data, setData] = useState([]);\n  const inputStyle = {\n    display: \"block\",\n    margin: \"20px 0\",\n    padding: \"5px 10px\"\n  };\n  const submitStyle = {\n    display: \"block\",\n    margin: \"20px 0\"\n  };\n  const calendarStyle = {\n    backgroundColor: \"white\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    borderRadius: \"5px\",\n    height: 400,\n    // width: 800,\n    margin: \"20px 0\",\n    padding: \"10px\"\n  };\n  const addBtnStyle = {\n    padding: \"10px 15px\",\n    borderRadius: \"50%\",\n    border: \"none\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    fontSize: \"20px\",\n    color: \"rgb(30,56,77)\",\n    backgroundColor: \"white\",\n    fontWeight: \"500\",\n    position: \"relative\",\n    left: \"95%\",\n    marginTop: \"20px\",\n    outline: \"none\" // float: \"right\",\n    // margin: \"20px\"\n\n  };\n  const addPopupStyle = {\n    position: \"absolute\",\n    zIndex: \"10\",\n    backgroundColor: \"white\",\n    padding: \"10px 20px\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    left: \"45%\"\n  };\n  const localizer = momentLocalizer(moment);\n\n  function getData() {\n    console.log('getting sales');\n    router.loadSales().then(data => {\n      if (data) {\n        setData(data);\n      }\n    });\n  }\n\n  useEffect(() => {\n    getData();\n  }, [props.shouldLoad]); // const myEventsList = [\n  //     props.data.forEach(sale => {\n  //         sale.date = new Date(sale.date)\n  //     })\n  //   {\n  //     title: \"Sunrise Sale\",\n  //     start: new Date(2020, 10, 27), // 10 is novermber\n  //     end: new Date(2020, 11, 1), // doesn't include last day\n  //     allDay: true,\n  //     description: \"20% off CBD\"\n  //     // resource?: any,\n  //   },\n  //   {}\n  // ];\n\n  function createSale() {\n    // setEvent\n    var startDate = null;\n    var endDate = null; // console.log(eventStart)\n    // console.log(eventEnd)\n\n    if (allDay && eventStart != \"\" && eventEnd != \"\") {\n      startDate = eventStart.slice(0, 10) + \"T00:00\";\n      endDate = eventEnd.slice(0, 10) + \"T23:59\";\n    } // console.log(startDate)\n    // console.log(endDate)\n\n\n    const sale = {\n      title: eventTitle,\n      description: eventDescription,\n      start_date: startDate != null ? startDate : eventStart,\n      end_date: endDate != null ? endDate : eventEnd,\n      all_day: allDay,\n      vendor: vendor != \"Choose Vendor:\" ? vendor : null\n    }; // console.log(sale)\n\n    var errorFlag = false;\n    Object.values(sale).forEach(value => {\n      if (value === null || value === \"\") {\n        errorFlag = true;\n      }\n    });\n\n    if (errorFlag === false) {\n      // Save in DB\n      // console.log(sale)\n      save(sale);\n    } else {\n      // console.log(sale)\n      alert(`Event is incomplete. Please try again`);\n    }\n  }\n\n  function save(sale) {\n    router.saveSale(sale).then(data => {\n      if (data) {\n        if (data === \"Failure\") {\n          alert(\"Failed to create sale. Please try again\");\n        } else if (data === \"Success\") {\n          // console.log(\"Great success\")\n          setAddPopupHidden(true);\n          getData();\n        }\n      }\n    });\n  }\n\n  function handleChange(e) {\n    // console.log(e.target.value)\n    switch (e.target.id) {\n      case \"event_title\":\n        setEventTitle(e.target.value);\n        break;\n\n      case \"event_description\":\n        setEventDescription(e.target.value);\n        break;\n\n      case \"event_start\":\n        setEventStart(e.target.value);\n        break;\n\n      case \"event_end\":\n        setEventEnd(e.target.value);\n        break;\n\n      case \"vendor\":\n        setVendor(e.target.value);\n        break;\n\n      default: // console.log('error')\n      //         setEvent(prevState => {\n      //             return {\n      //                 title: e.target.value,\n      //                 description: prevState.description,\n      //                 start: prevState.start,\n      //                 end: prevState.end\n      //             }\n      //         })\n      //         break;\n      // case \n\n    } // console.log(e.target.id)\n\n  }\n\n  function showEvent(e) {\n    // console.log(e)\n    setClickedEvent({\n      title: e.title,\n      description: e.description,\n      vendor: e.name,\n      start: e.start.toString(),\n      end: e.end.toString()\n    });\n    setEventPopupHidden(!isEventPopupHidden);\n  } // console.log(data)\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"0 auto\",\n      width: \"45%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"circle-btn\",\n      onClick: () => setAddPopupHidden(!isAddPopupHidden),\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: addPopupStyle,\n      hidden: isAddPopupHidden,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        style: {\n          color: \"#1E384D\"\n        },\n        onClick: () => setAddPopupHidden(!isAddPopupHidden),\n        children: \"\\xD7    \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        value: eventTitle,\n        type: \"text\",\n        id: \"event_title\",\n        placeholder: \"Event Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: handleChange,\n        style: inputStyle,\n        value: eventDescription,\n        rows: \"5\",\n        id: \"event_description\",\n        placeholder: \"Event Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        type: \"datetime-local\",\n        id: \"event_start\",\n        name: \"event_start\",\n        value: eventStart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        type: \"datetime-local\",\n        id: \"event_end\",\n        name: \"event_end\",\n        value: eventEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: \"inline\"\n        },\n        children: \"All day?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          display: \"inline\"\n        },\n        onChange: () => setAllDay(!allDay),\n        type: \"checkbox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        style: inputStyle,\n        defaultValue: \"Choose Vendor:\",\n        onChange: handleChange,\n        id: \"vendor\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Choose Vendor:\",\n          children: \"Choose Vendor:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 14\n        }, this), data.map((vendor, id) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: vendor.id,\n            children: vendor.name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 21\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: submitStyle,\n        onClick: createSale,\n        children: \"Create Sale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      hidden: isEventPopupHidden,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Title: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), clickedEvent.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Description: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 12\n        }, this), clickedEvent.description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Vendor: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 12\n        }, this), clickedEvent.vendor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Start: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 12\n        }, this), clickedEvent.start]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"End: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 12\n        }, this), clickedEvent.end]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n      localizer: localizer,\n      events: data,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      style: calendarStyle // onSelectEvent={}\n      ,\n      tooltipAccessor: \"title\",\n      onSelectEvent: e => showEvent(e),\n      popup: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyCalendar, \"+sNd+LYJy/jglWh3xQGSfHYxLZE=\");\n\n_c = MyCalendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyCalendar\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Calendar.js"],"names":["Calendar","momentLocalizer","moment","React","useState","useEffect","router","MyCalendar","eventTitle","setEventTitle","eventDescription","setEventDescription","vendor","setVendor","eventStart","setEventStart","eventEnd","setEventEnd","allDay","setAllDay","isAddPopupHidden","setAddPopupHidden","isEventPopupHidden","setEventPopupHidden","clickedEvent","setClickedEvent","title","description","start","end","data","setData","inputStyle","display","margin","padding","submitStyle","calendarStyle","backgroundColor","boxShadow","borderRadius","height","addBtnStyle","border","fontSize","color","fontWeight","position","left","marginTop","outline","addPopupStyle","zIndex","localizer","getData","console","log","loadSales","then","props","shouldLoad","createSale","startDate","endDate","slice","sale","start_date","end_date","all_day","errorFlag","Object","values","forEach","value","save","alert","saveSale","handleChange","e","target","id","showEvent","name","toString","width","map"],"mappings":"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","sourcesContent":["import { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport React, {useState, useEffect} from \"react\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n// import AddPopup from \"./AddPopup\"\nimport * as router from \"./vendorAPI\"\n\n\n\nexport default function MyCalendar() {\n    const [eventTitle, setEventTitle] = useState(\"\")\n    const [eventDescription, setEventDescription] = useState(\"\")\n    const [vendor, setVendor] = useState(\"Choose Vendor:\")\n    const [eventStart, setEventStart] = useState(\"\")\n    const [eventEnd, setEventEnd] = useState(\"\")\n    const [allDay, setAllDay] = useState(false)\n    const [isAddPopupHidden, setAddPopupHidden] = useState(true)\n    const [isEventPopupHidden, setEventPopupHidden] = useState(true)\n    const [clickedEvent, setClickedEvent] = useState({\n        title: \"Default title\",\n        description: \"Default description\",\n        vendor: \"Default vendor\",\n        start: \"Default start\",\n        end: \"Default end\"\n    })\n\n    const [data, setData] = useState([])\n\n    const inputStyle = {\n        display: \"block\",\n        margin: \"20px 0\",\n        padding: \"5px 10px\"\n    }\n\n    const submitStyle = {\n        display: \"block\",\n        margin: \"20px 0\"\n    }\n\n    const calendarStyle = {\n        backgroundColor: \"white\",\n        boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        borderRadius: \"5px\",\n        height: 400,\n        // width: 800,\n        margin: \"20px 0\", \n        padding: \"10px\", \n    }\n\n    const addBtnStyle = {\n        padding: \"10px 15px\",\n        borderRadius: \"50%\",\n        border: \"none\",\n        boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        fontSize: \"20px\",\n        color: \"rgb(30,56,77)\",\n        backgroundColor: \"white\",\n        fontWeight: \"500\",\n        position: \"relative\",\n        left: \"95%\",\n        marginTop: \"20px\",\n        outline: \"none\"\n        // float: \"right\",\n        // margin: \"20px\"\n    }\n\n    const addPopupStyle = {\n        position: \"absolute\",\n        zIndex: \"10\",\n        backgroundColor: \"white\",\n        padding: \"10px 20px\",\n        boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        left: \"45%\",\n        \n    }\n\n    const localizer = momentLocalizer(moment);\n\n    function getData() {\n        console.log('getting sales')\n        router.loadSales().then(data => {\n            if (data) {\n                setData(data)\n            }         \n        })\n    }\n\n\n    useEffect(() => {\n        getData()\n    }, [props.shouldLoad]);\n\n// const myEventsList = [\n//     props.data.forEach(sale => {\n//         sale.date = new Date(sale.date)\n//     })\n//   {\n//     title: \"Sunrise Sale\",\n//     start: new Date(2020, 10, 27), // 10 is novermber\n//     end: new Date(2020, 11, 1), // doesn't include last day\n//     allDay: true,\n//     description: \"20% off CBD\"\n//     // resource?: any,\n//   },\n//   {}\n// ];\n\nfunction createSale() {\n    // setEvent\n    var startDate = null\n    var endDate = null\n    // console.log(eventStart)\n    // console.log(eventEnd)\n    if (allDay && eventStart != \"\" && eventEnd != \"\") {\n        startDate= eventStart.slice(0,10) + \"T00:00\"\n        endDate = eventEnd.slice(0,10) + \"T23:59\"\n    }\n    // console.log(startDate)\n    // console.log(endDate)\n    const sale = {\n        title: eventTitle,\n        description: eventDescription,\n        start_date: startDate != null ? startDate : eventStart,\n        end_date: endDate != null ? endDate : eventEnd,\n        all_day: allDay,\n        vendor: vendor != \"Choose Vendor:\" ? vendor : null\n    }\n    // console.log(sale)\n\n    var errorFlag = false\n    Object.values(sale).forEach(value => {\n        if (value === null || value === \"\") {\n            errorFlag = true\n            \n        }\n    })\n\n    if (errorFlag === false) {\n        // Save in DB\n        // console.log(sale)\n        save(sale)\n    } else {\n        // console.log(sale)\n        alert(`Event is incomplete. Please try again`)\n        \n    }\n}\n\nfunction save(sale) {\n    \n    router.saveSale(sale).then(data => {\n        if (data) {\n            if (data === \"Failure\") {\n                alert(\"Failed to create sale. Please try again\")\n            } else if (data === \"Success\") {\n                // console.log(\"Great success\")\n                setAddPopupHidden(true)\n                getData()\n            }\n        }\n    })\n}\n\nfunction handleChange(e) {\n    // console.log(e.target.value)\n    switch(e.target.id) {\n        case \"event_title\":\n            setEventTitle(e.target.value)\n            break;\n        case \"event_description\":\n            setEventDescription(e.target.value)\n            break;\n        case \"event_start\":\n            setEventStart(e.target.value)\n            break\n        case \"event_end\":\n            setEventEnd(e.target.value)\n            break\n        case \"vendor\":\n            setVendor(e.target.value)\n            break\n        default:\n            // console.log('error')\n    //         setEvent(prevState => {\n    //             return {\n    //                 title: e.target.value,\n    //                 description: prevState.description,\n    //                 start: prevState.start,\n    //                 end: prevState.end\n    //             }\n    //         })\n    //         break;\n    // case \n    }\n    // console.log(e.target.id)\n   \n}\n\nfunction showEvent(e) {\n    // console.log(e)\n    setClickedEvent({\n        title: e.title,\n        description: e.description,\n        vendor: e.name,\n        start: e.start.toString(),\n        end: e.end.toString()\n    })\n    setEventPopupHidden(!isEventPopupHidden)\n}\n\n// console.log(data)\n  return (\n\n    <div style={{margin: \"0 auto\", width: \"45%\"}}>\n          <button className=\"circle-btn\" onClick={() => setAddPopupHidden(!isAddPopupHidden)}>+</button>\n       <div style={addPopupStyle} hidden={isAddPopupHidden}>\n       <span className=\"close\" style={{color: \"#1E384D\"}} onClick={() => setAddPopupHidden(!isAddPopupHidden)}>&times;    </span>\n        <h2>Create Event</h2>\n        <input onChange={handleChange} style={inputStyle} value={eventTitle} type=\"text\" id=\"event_title\" placeholder=\"Event Title\" />\n         <textarea onChange={handleChange} style={inputStyle} value={eventDescription} rows=\"5\" id=\"event_description\" placeholder=\"Event Description\" />\n\n         <input onChange={handleChange} style={inputStyle} type=\"datetime-local\" id=\"event_start\" name=\"event_start\" value={eventStart}/>\n\n         <input onChange={handleChange} style={inputStyle} type=\"datetime-local\" id=\"event_end\" name=\"event_end\" value={eventEnd} />\n         \n         <p style={{display: \"inline\"}}>All day?</p><input style={{display: \"inline\"}} onChange={() => setAllDay(!allDay)}type=\"checkbox\"/>\n         <select style={inputStyle} defaultValue=\"Choose Vendor:\" onChange={handleChange} id=\"vendor\">\n             <option value=\"Choose Vendor:\">Choose Vendor:</option>\n             {data.map((vendor, id) => {\n                 return (\n                    <option key={id} value={vendor.id}>{vendor.name}</option>\n                 )\n                \n            })}\n        </select>\n         <button style={submitStyle} onClick={createSale}>Create Sale</button>\n        </div>\n        \n    <div hidden={isEventPopupHidden}>\n        \n        <h2><strong>Title: </strong>{clickedEvent.title}</h2>\n        <p><strong>Description: </strong>{clickedEvent.description}</p>\n        <p><strong>Vendor: </strong>{clickedEvent.vendor}</p>\n        <p><strong>Start: </strong>{clickedEvent.start}</p>\n        <p><strong>End: </strong>{clickedEvent.end}</p>\n    </div>\n      <Calendar\n        localizer={localizer}\n        events={data}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        style={calendarStyle}\n        // onSelectEvent={}\n        tooltipAccessor=\"title\"\n        onSelectEvent={(e) => showEvent(e)}\n        popup={true}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}