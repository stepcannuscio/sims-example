{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Orders/Order.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Table from \"../components/Table\";\nimport Layout from \"../components/Layout\";\nimport DownloadBtn from \"../components/DownloadBtn\";\nimport * as router from \"./orderAPI\";\nexport default function Order(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\",\n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`\n  };\n  const outerStyle = {\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\"\n  };\n  const columns = React.useMemo(() => [{\n    Header: 'Vendor',\n    accessor: 'name',\n    sortDescFirst: true\n  }, {\n    Header: 'ID',\n    accessor: 'id'\n  }, {\n    Header: 'Total',\n    accessor: 'total',\n    sortDescFirst: true,\n    sortType: sortMoney\n  }, {\n    Header: 'Subtotal',\n    accessor: 'subtotal',\n    show: false\n  }, {\n    Header: 'Discount',\n    accessor: 'discount',\n    show: false\n  }, {\n    Header: 'Submitted',\n    accessor: 'submitted_date',\n    sortDescFirst: true,\n    sortType: sortDates\n  }, {\n    Header: 'Fulfilled',\n    accessor: 'fulfilled_date',\n    sortDescFirst: true,\n    sortType: sortDates\n  }, {\n    Header: 'Completed',\n    accessor: 'completed_date',\n    sortDescFirst: true,\n    sortType: sortDates\n  }, {\n    Header: 'Status',\n    accessor: 'status',\n    sortDescFirst: true,\n    disableSortBy: true\n  }], []);\n\n  function sortMoney(rowA, rowB) {\n    var aValues = \"$0\";\n    var bValues = \"$0\";\n\n    if (rowA.values.total) {\n      aValues = rowA.values.total;\n    }\n\n    if (rowB.values.total) {\n      bValues = rowB.values.total;\n    }\n\n    if (Number(aValues.replace(/(^\\$|,)/g, '')) > Number(bValues.replace(/(^\\$|,)/g, ''))) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n\n  function sortDates(rowA, rowB, column) {\n    if (column === \"submitted_date\") {\n      var a = rowA.values.submitted_date;\n      var b = rowB.values.submitted_date;\n    } else if (column === \"fulfilled_date\") {\n      var a = rowA.values.fulfilled_date;\n      var b = rowB.values.fulfilled_date;\n    } else if (column === \"completed_date\") {\n      var a = rowA.values.completed_date;\n      var b = rowB.values.completed_date;\n    }\n\n    var dateA = \"\";\n    var dateB = \"\";\n    var timeA = \"\";\n    var timeB = \"\";\n    var amPMA = \"\";\n    var amPMB = \"\";\n\n    if (a) {\n      a = a.split(' ');\n      dateA = a[0].split('/');\n      timeA = a[1].split(':');\n      amPMA = a[2];\n    } else {\n      return 0;\n    }\n\n    if (b) {\n      b = b.split(' ');\n      dateB = b[0].split('/');\n      timeB = b[1].split(':');\n      amPMB = b[2];\n    } else {\n      return 0;\n    }\n\n    return dateA[2] - dateB[2] || dateA[0] - dateB[0] || dateA[1] - dateB[1] || amPMA > amPMB || timeA[0][0] - timeB[0][0] || timeA[0][1] - timeB[0][1] || timeA[1][0] - timeB[1][0] || timeA[1][1] - timeB[1][1] || true;\n  }\n\n  function getData() {\n    setLoading(true);\n    router.loadOrders().then(data => {\n      if (data) {\n        setData(data);\n      }\n\n      setLoading(false);\n    });\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    user: props.user,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: outerStyle,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: innerStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DownloadBtn, {\n          data: data,\n          type: \"orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          reloadData: () => getData(),\n          initialSearch: \"\",\n          columns: columns,\n          type: \"all-orders\",\n          data: data,\n          search: true,\n          popupEnabled: true,\n          perPage: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Order, \"92uyHxzlejm6BTJ1uzsd+XevSS8=\");\n\n_c = Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Orders/Order.js"],"names":["React","useState","useEffect","Table","Layout","DownloadBtn","router","Order","props","data","setData","isLoading","setLoading","innerStyle","backgroundColor","width","borderRadius","margin","padding","boxShadow","outerStyle","gridArea","columns","useMemo","Header","accessor","sortDescFirst","sortType","sortMoney","show","sortDates","disableSortBy","rowA","rowB","aValues","bValues","values","total","Number","replace","column","a","submitted_date","b","fulfilled_date","completed_date","dateA","dateB","timeA","timeB","amPMA","amPMB","split","getData","loadOrders","then","user"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport Table from \"../components/Table\"\nimport Layout from \"../components/Layout\"\nimport DownloadBtn from \"../components/DownloadBtn\"\nimport * as router from \"./orderAPI\";\n\nexport default function Order(props) {\n  \n  const [data, setData] = useState([])\n  const [isLoading, setLoading] = useState(true);\n\n  const innerStyle = {\n      backgroundColor: \"white\",\n      width: \"80%\", \n      borderRadius: \"5px\",\n      margin: \"20px auto\",\n      padding: \"1% 3%\",\n      boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    }\n\n  const outerStyle = {\n    gridArea: \"main\", \n    backgroundColor: \"rgb(246,246,247)\"\n  }\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'Vendor',\n        accessor: 'name',\n        sortDescFirst: true\n      },\n      {\n        Header: 'ID',\n        accessor: 'id',\n      },\n  \n      {\n        Header: 'Total',\n        accessor: 'total',\n        sortDescFirst: true,\n        sortType: sortMoney\n      },\n      {\n        Header: 'Subtotal',\n        accessor: 'subtotal',\n        show: false\n      },\n      {\n        Header: 'Discount',\n        accessor: 'discount',\n        show: false\n      },\n      {\n        Header: 'Submitted',\n        accessor: 'submitted_date',\n        sortDescFirst: true,\n        sortType: sortDates\n      },\n      {\n        Header: 'Fulfilled',\n        accessor: 'fulfilled_date',\n        sortDescFirst: true,\n        sortType: sortDates\n      },\n      {\n        Header: 'Completed',\n        accessor: 'completed_date',\n        sortDescFirst: true,\n        sortType: sortDates\n      },\n      {\n        Header: 'Status',\n        accessor: 'status',\n        sortDescFirst: true,\n        disableSortBy: true\n      },\n\n      \n    ],\n    []\n  )\n\n  function sortMoney(rowA, rowB) {\n\n    var aValues = \"$0\"\n    var bValues = \"$0\"\n    if (rowA.values.total) {\n      aValues = rowA.values.total\n    }\n    if (rowB.values.total) {\n      bValues = rowB.values.total\n    }\n\n      if (Number(aValues.replace(/(^\\$|,)/g,'')) > Number(bValues.replace(/(^\\$|,)/g,''))) {\n        return 1\n    } else {\n        return -1\n    }\n\n  }\n\n  function sortDates(rowA, rowB, column) {\n\n    if (column === \"submitted_date\") {\n      var a = rowA.values.submitted_date\n      var b = rowB.values.submitted_date\n    } else if (column === \"fulfilled_date\") {\n      var a = rowA.values.fulfilled_date\n      var b = rowB.values.fulfilled_date\n    } else if (column === \"completed_date\") {\n      var a = rowA.values.completed_date\n      var b = rowB.values.completed_date\n    }\n\n    var dateA = \"\"\n    var dateB = \"\"\n    var timeA = \"\"\n    var timeB = \"\"\n    var amPMA = \"\"\n    var amPMB = \"\"\n\n    if (a) {\n      a = a.split(' ')\n        dateA = a[0].split('/')\n        timeA = a[1].split(':')\n        amPMA = a[2]\n    } else {\n      return 0\n    }\n\n    if (b) {\n      b = b.split(' ')\n        dateB = b[0].split('/')\n        timeB = b[1].split(':')\n        amPMB = b[2]\n    } else {\n      return 0\n    }\n\n    return dateA[2] - dateB[2] || dateA[0] - dateB[0] || dateA[1] - dateB[1] || amPMA > amPMB || \n            timeA[0][0] - timeB[0][0] || timeA[0][1] - timeB[0][1] || timeA[1][0] - timeB[1][0] || timeA[1][1] - timeB[1][1] || true\n  }\n\n    \n  function getData() {\n    setLoading(true)\n    router.loadOrders().then(data => {\n      if (data) {\n        setData(data)\n      }    \n      setLoading(false)   \n    }) \n  }\n    \n  useEffect(() => {\n    getData()\n  }, []);\n\n  if (isLoading) {\n    return <div className=\"loader\"></div>;\n  }\n\n  return (\n    <Layout user={props.user}>\n      <div style={outerStyle}>\n        <div style={innerStyle}>\n          <h1>Orders</h1>\n          <DownloadBtn data={data} type=\"orders\"/>\n          <Table reloadData={() => getData()} initialSearch=\"\" columns={columns} type=\"all-orders\" data={data} search={true} popupEnabled={true} perPage={10}/>\n        </div>\n      </div>\n    </Layout>   \n  )\n}"]},"metadata":{},"sourceType":"module"}