{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../components/Layout\";\nimport SalesChart from \"./SalesChart\";\nimport CogsChart from \"./CogsChart\";\nimport CallToAction from \"./CallToAction\";\nimport MiniTable from \"./MiniTable\";\nimport { useHistory } from \"react-router-dom\";\nimport * as router from \"./homeAPI\";\nexport default function Home(props) {\n  _s();\n\n  const [dateFilter, setDateFilter] = useState(\"month\");\n  const [data, setData] = useState([]);\n  const [salesData, setSalesData] = useState([]);\n  const [cogsData, setCogsData] = useState([]);\n  const [topSellers, setTopSellers] = useState([]);\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [updateMiniTable, setMiniTable] = useState(false);\n  const [isLoading, setLoading] = useState(true);\n  const history = useHistory();\n  const style = {\n    display: `flex`,\n    justifyContent: `space-around`,\n    // margin: `0 20px`,\n    padding: `0 20px`,\n    // height: `100vh` /* Force our height since we don't have actual content yet */,\n    color: `#1E384D`,\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\",\n    textAlign: \"center\",\n    flexWrap: \"wrap\"\n  };\n  const filterStyle = {\n    padding: \"10px 30px\",\n    borderRadius: \"5px\",\n    border: \"none\",\n    backgroundColor: \"rgb(45,142,255)\",\n    color: \"white\",\n    fontSize: \"16px\",\n    outline: \"none\",\n    display: \"inline-block\",\n    margin: \"10px auto\" // appearance: \"none\"\n\n  };\n  const datePickerStyle = {\n    padding: \"10px 30px\",\n    borderRadius: \"5px\",\n    border: \"none\",\n    backgroundColor: \"rgb(45,142,255)\",\n    color: \"white\",\n    margin: \"0 10px\",\n    fontSize: \"16px\",\n    display: \"inline-block\",\n    fontFamily: \"inherit\"\n  };\n  const filterBtnStyle = {\n    padding: \"10px 20px\",\n    display: \"block\",\n    margin: \"10px auto\",\n    borderRadius: \"5px\",\n    border: \"none\",\n    backgroundColor: \"white\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    fontSize: \"16px\"\n  };\n  const chartStyle = {\n    width: \"45%\",\n    backgroundColor: \"white\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    borderRadius: \"5px\",\n    padding: \"2%\"\n  };\n  const tableStyle = {\n    margin: \"20px 0\",\n    padding: \"10px 40px\",\n    backgroundColor: \"white\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    borderRadius: \"5px\",\n    width: \"60%\"\n  };\n\n  function getData(filter) {\n    // setLoading(true)\n    // console.log('loading Purchases')\n    router.loadPurchases(filter, startDate, endDate).then(data => {\n      // console.log('loaded Purchases')\n      if (data) {\n        setData(data); // console.log(data)\n\n        setSalesData(data.salesData);\n        setCogsData(data.cogsData);\n        setTopSellers(data.topSellers);\n      }\n\n      setLoading(false);\n    });\n  }\n\n  useEffect(() => {\n    getData(dateFilter);\n  }, []);\n\n  function dateFilterChanged(e) {\n    setDateFilter(e.target.value);\n    getData(e.target.value);\n  }\n\n  function filterByDate() {\n    getData(dateFilter);\n    setMiniTable(!updateMiniTable);\n  } // const tableStyle = {\n  //   width: \"100%\", \n  //   textAlign: \"left\", \n  //   backgroundColor: \"#efefef\",\n  //   padding: \"30px\",\n  //   borderRadius: \"5px\"\n  // }\n  // const tableHeaderStyle = {\n  //     paddingBottom: \"10px\",\n  //   }\n  // const tableBodyStyle = {\n  //   paddingRight: \"20px\",\n  // }\n  // const topSellingProducts = {\n  //   \"Delta 8 THC Cart\": \"10\",\n  //   \"Disposable Vape Pen\": \"500\",\n  //   \"Endocure Pet Chews\": \"200\"\n  // }\n  // const productsRunningLow = {\n  //   \"3CHI Cart - Gorilla Glue\": \"55\",\n  //   \"Bath Salts\": \"2\",\n  //   \"White Whale 3.5g\": \"16\"\n  // }\n  // function sortProducts(array, type) {\n  //   // Create items array\n  //   var items = Object.keys(array).map(key => {\n  //     return [key, array[key]];\n  //   });\n  //   if (type === \"high\") {\n  //     // Sort the array based on the second element\n  //     items.sort(function(first, second) {\n  //       return second[1] - first[1];\n  //     });\n  //   } else if (type === \"low\") {\n  //     // Sort the array based on the first element\n  //     items.sort(function(first, second) {\n  //       return first[1] - second[1];\n  //     });\n  //   }\n  //   return items\n  // }\n  // const sortedTopSellingProducts = sortProducts(topSellingProducts, \"high\")\n  // const sortedProductsRunningLow = sortProducts(productsRunningLow, \"low\")\n  // const renderLineChart = (\n  //   <LineChart width={400} height={400} data={data}>\n  //     <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#8884d8\" />\n  //   </LineChart>\n  // );\n\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    user: props.user,\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      style: style,\n      children: [/*#__PURE__*/_jsxDEV(CallToAction, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\",\n          margin: \"20px\",\n          justifyContent: `flex-start`\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          style: filterStyle,\n          defaultValue: \"month\",\n          value: dateFilter,\n          onChange: dateFilterChanged,\n          id: \"dateFilter\",\n          name: \"dateFilter\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"day\",\n            children: \"Day\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"month\",\n            children: \"Month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"week\",\n            children: \"Week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"year\",\n            children: \"Year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: datePickerStyle,\n          onChange: e => setStartDate(e.target.value),\n          type: \"date\",\n          id: \"start\",\n          name: \"start\",\n          value: startDate,\n          min: \"2018-01-01\",\n          max: new Date().toISOString().slice(0, 10)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: datePickerStyle,\n          onChange: e => setEndDate(e.target.value),\n          type: \"date\",\n          id: \"end\",\n          name: \"end\",\n          value: endDate,\n          min: \"2018-01-01\",\n          max: new Date().toISOString().slice(0, 10)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          style: {\n            display: \"inline-block\",\n            margin: \"0\",\n            padding: \"11px 30px\",\n            backgroundColor: \"rgb(45,142,255)\",\n            color: \"white\",\n            fontSize: \"16px\",\n            cursor: \"pointer\"\n          },\n          onClick: filterByDate,\n          children: \"Filter by Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: chartStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Total Sales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(SalesChart, {\n          data: salesData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: chartStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Cost of Goods Sold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(CogsChart, {\n          data: cogsData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: tableStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Top Sellers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(MiniTable, {\n          data: topSellers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"ElA1PySndjQi56TV/IvShWL7E6A=\", false, function () {\n  return [useHistory];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Home/Home.js"],"names":["React","useState","useEffect","Layout","SalesChart","CogsChart","CallToAction","MiniTable","useHistory","router","Home","props","dateFilter","setDateFilter","data","setData","salesData","setSalesData","cogsData","setCogsData","topSellers","setTopSellers","startDate","setStartDate","endDate","setEndDate","updateMiniTable","setMiniTable","isLoading","setLoading","history","style","display","justifyContent","padding","color","gridArea","backgroundColor","textAlign","flexWrap","filterStyle","borderRadius","border","fontSize","outline","margin","datePickerStyle","fontFamily","filterBtnStyle","boxShadow","chartStyle","width","tableStyle","getData","filter","loadPurchases","then","dateFilterChanged","e","target","value","filterByDate","user","Date","toISOString","slice","cursor"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAO,KAAKC,MAAZ,MAAwB,WAAxB;AAGA,eAAe,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AAElC,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,OAAD,CAA5C;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACmB,UAAD,EAAaC,aAAb,IAA8BpB,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACqB,SAAD,EAAYC,YAAZ,IAA4BtB,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACuB,OAAD,EAAUC,UAAV,IAAwBxB,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACyB,eAAD,EAAkBC,YAAlB,IAAkC1B,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAAC2B,SAAD,EAAYC,UAAZ,IAA0B5B,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM6B,OAAO,GAAGtB,UAAU,EAA1B;AAEA,QAAMuB,KAAK,GAAG;AACZC,IAAAA,OAAO,EAAG,MADE;AAEZC,IAAAA,cAAc,EAAG,cAFL;AAGZ;AACAC,IAAAA,OAAO,EAAG,QAJE;AAKZ;AACAC,IAAAA,KAAK,EAAG,SANI;AAOZC,IAAAA,QAAQ,EAAE,MAPE;AAQZC,IAAAA,eAAe,EAAE,kBARL;AASZC,IAAAA,SAAS,EAAE,QATC;AAUZC,IAAAA,QAAQ,EAAE;AAVE,GAAd;AAaA,QAAMC,WAAW,GAAG;AAClBN,IAAAA,OAAO,EAAE,WADS;AAElBO,IAAAA,YAAY,EAAE,KAFI;AAGlBC,IAAAA,MAAM,EAAE,MAHU;AAIlBL,IAAAA,eAAe,EAAE,iBAJC;AAKlBF,IAAAA,KAAK,EAAE,OALW;AAMlBQ,IAAAA,QAAQ,EAAE,MANQ;AAOlBC,IAAAA,OAAO,EAAE,MAPS;AAQlBZ,IAAAA,OAAO,EAAE,cARS;AASlBa,IAAAA,MAAM,EAAE,WATU,CAWlB;;AAXkB,GAApB;AAeA,QAAMC,eAAe,GAAG;AACtBZ,IAAAA,OAAO,EAAE,WADa;AAEtBO,IAAAA,YAAY,EAAE,KAFQ;AAGtBC,IAAAA,MAAM,EAAE,MAHc;AAItBL,IAAAA,eAAe,EAAE,iBAJK;AAKtBF,IAAAA,KAAK,EAAE,OALe;AAMtBU,IAAAA,MAAM,EAAE,QANc;AAOtBF,IAAAA,QAAQ,EAAE,MAPY;AAQtBX,IAAAA,OAAO,EAAE,cARa;AAStBe,IAAAA,UAAU,EAAE;AATU,GAAxB;AAaA,QAAMC,cAAc,GAAG;AACrBd,IAAAA,OAAO,EAAE,WADY;AAErBF,IAAAA,OAAO,EAAE,OAFY;AAGrBa,IAAAA,MAAM,EAAE,WAHa;AAIrBJ,IAAAA,YAAY,EAAE,KAJO;AAKrBC,IAAAA,MAAM,EAAE,MALa;AAMrBL,IAAAA,eAAe,EAAE,OANI;AAOrBY,IAAAA,SAAS,EACR,4DARoB;AASrBN,IAAAA,QAAQ,EAAE;AATW,GAAvB;AAYA,QAAMO,UAAU,GAAG;AACjBC,IAAAA,KAAK,EAAE,KADU;AAEjBd,IAAAA,eAAe,EAAE,OAFA;AAGjBY,IAAAA,SAAS,EACR,4DAJgB;AAKjBR,IAAAA,YAAY,EAAE,KALG;AAMjBP,IAAAA,OAAO,EAAE;AANQ,GAAnB;AAUA,QAAMkB,UAAU,GAAG;AACjBP,IAAAA,MAAM,EAAE,QADS;AAEjBX,IAAAA,OAAO,EAAE,WAFQ;AAGjBG,IAAAA,eAAe,EAAE,OAHA;AAIjBY,IAAAA,SAAS,EACR,4DALgB;AAMjBR,IAAAA,YAAY,EAAE,KANG;AAOjBU,IAAAA,KAAK,EAAE;AAPU,GAAnB;;AAYA,WAASE,OAAT,CAAiBC,MAAjB,EAAyB;AACvB;AACA;AACA7C,IAAAA,MAAM,CAAC8C,aAAP,CAAqBD,MAArB,EAA6BhC,SAA7B,EAAwCE,OAAxC,EAAiDgC,IAAjD,CAAsD1C,IAAI,IAAI;AAC5D;AACA,UAAIA,IAAJ,EAAU;AACRC,QAAAA,OAAO,CAACD,IAAD,CAAP,CADQ,CAER;;AACAG,QAAAA,YAAY,CAACH,IAAI,CAACE,SAAN,CAAZ;AACAG,QAAAA,WAAW,CAACL,IAAI,CAACI,QAAN,CAAX;AACAG,QAAAA,aAAa,CAACP,IAAI,CAACM,UAAN,CAAb;AAED;;AACDS,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAXD;AAYH;;AAEC3B,EAAAA,SAAS,CAAC,MAAM;AAEdmD,IAAAA,OAAO,CAACzC,UAAD,CAAP;AACD,GAHQ,EAGN,EAHM,CAAT;;AASA,WAAS6C,iBAAT,CAA2BC,CAA3B,EAA8B;AAC5B7C,IAAAA,aAAa,CAAC6C,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AACAP,IAAAA,OAAO,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACD;;AAED,WAASC,YAAT,GAAwB;AACtBR,IAAAA,OAAO,CAACzC,UAAD,CAAP;AACAe,IAAAA,YAAY,CAAC,CAACD,eAAF,CAAZ;AAED,GA3HiC,CA8HlC;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAGF;AACA;AACA;AACA;AACA;;;AACA,MAAIE,SAAJ,EAAe;AACb,wBAAO;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAIG,sBACI,QAAC,MAAD;AAAQ,IAAA,IAAI,EAAEjB,KAAK,CAACmD,IAApB;AAAA,2BAEM;AAAM,MAAA,KAAK,EAAE/B,KAAb;AAAA,8BACE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAOE;AAAK,QAAA,KAAK,EAAE;AAACoB,UAAAA,KAAK,EAAE,MAAR;AAAgBN,UAAAA,MAAM,EAAE,MAAxB;AAAgCZ,UAAAA,cAAc,EAAG;AAAjD,SAAZ;AAAA,gCACA;AAAQ,UAAA,KAAK,EAAEO,WAAf;AAA4B,UAAA,YAAY,EAAC,OAAzC;AAAiD,UAAA,KAAK,EAAE5B,UAAxD;AAAoE,UAAA,QAAQ,EAAE6C,iBAA9E;AAAiG,UAAA,EAAE,EAAC,YAApG;AAAiH,UAAA,IAAI,EAAC,YAAtH;AAAA,kCACE;AAAQ,YAAA,KAAK,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAQ,YAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAQ,YAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAQ,YAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAUA;AAAO,UAAA,KAAK,EAAEX,eAAd;AAA+B,UAAA,QAAQ,EAAEY,CAAC,IAAInC,YAAY,CAACmC,CAAC,CAACC,MAAF,CAASC,KAAV,CAA1D;AAA4E,UAAA,IAAI,EAAC,MAAjF;AAAwF,UAAA,EAAE,EAAC,OAA3F;AAAmG,UAAA,IAAI,EAAC,OAAxG;AACM,UAAA,KAAK,EAAEtC,SADb;AAEM,UAAA,GAAG,EAAC,YAFV;AAEuB,UAAA,GAAG,EAAE,IAAIyC,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,EAAiC,EAAjC;AAF5B;AAAA;AAAA;AAAA;AAAA,gBAVA,eAgBA;AAAO,UAAA,KAAK,EAAEnB,eAAd;AAA+B,UAAA,QAAQ,EAAEY,CAAC,IAAIjC,UAAU,CAACiC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAxD;AAA0E,UAAA,IAAI,EAAC,MAA/E;AAAsF,UAAA,EAAE,EAAC,KAAzF;AAA+F,UAAA,IAAI,EAAC,KAApG;AACM,UAAA,KAAK,EAAEpC,OADb;AAEI,UAAA,GAAG,EAAC,YAFR;AAEqB,UAAA,GAAG,EAAE,IAAIuC,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,EAAiC,EAAjC;AAF1B;AAAA;AAAA;AAAA;AAAA,gBAhBA,eAmBA;AAAQ,UAAA,SAAS,EAAC,KAAlB;AAAwB,UAAA,KAAK,EAAE;AAACjC,YAAAA,OAAO,EAAE,cAAV;AAA0Ba,YAAAA,MAAM,EAAE,GAAlC;AAAuCX,YAAAA,OAAO,EAAE,WAAhD;AAA6DG,YAAAA,eAAe,EAAE,iBAA9E;AAAiGF,YAAAA,KAAK,EAAE,OAAxG;AAAiHQ,YAAAA,QAAQ,EAAE,MAA3H;AAAmIuB,YAAAA,MAAM,EAAE;AAA3I,WAA/B;AAAsL,UAAA,OAAO,EAAEL,YAA/L;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,eA6BE;AAAK,QAAA,KAAK,EAAEX,UAAZ;AAAA,gCAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,UAAD;AAAY,UAAA,IAAI,EAAElC;AAAlB;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cA7BF,eAmCE;AAAK,QAAA,KAAK,EAAEkC,UAAZ;AAAA,gCAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAME,QAAC,SAAD;AAAW,UAAA,IAAI,EAAEhC;AAAjB;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cAnCF,eA2CE;AAAK,QAAA,KAAK,EAAEkC,UAAZ;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE,QAAC,SAAD;AAAW,UAAA,IAAI,EAAEhC;AAAjB;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cA3CF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFN;AAAA;AAAA;AAAA;AAAA,UADJ;AAwGD;;GAtSqBV,I;UAWNF,U;;;KAXME,I","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport Layout from \"../components/Layout\"\nimport SalesChart from \"./SalesChart\"\nimport CogsChart from \"./CogsChart\"\nimport CallToAction from \"./CallToAction\"\nimport MiniTable from \"./MiniTable\"\nimport {useHistory} from \"react-router-dom\"\nimport * as router from \"./homeAPI\";\n\n\nexport default function Home(props) {\n\n  const [dateFilter, setDateFilter] = useState(\"month\")\n  const [data, setData] = useState([])\n  const [salesData, setSalesData] = useState([])\n  const [cogsData, setCogsData] = useState([])\n  const [topSellers, setTopSellers] = useState([])\n  const [startDate, setStartDate] = useState(\"\")\n  const [endDate, setEndDate] = useState(\"\")\n  const [updateMiniTable, setMiniTable] = useState(false)\n  const [isLoading, setLoading] = useState(true);\n  const history = useHistory()\n\n  const style = {\n    display: `flex`,\n    justifyContent: `space-around`,\n    // margin: `0 20px`,\n    padding: `0 20px`,\n    // height: `100vh` /* Force our height since we don't have actual content yet */,\n    color: `#1E384D`,\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\",\n    textAlign: \"center\",\n    flexWrap: \"wrap\"\n  };\n\n  const filterStyle = {\n    padding: \"10px 30px\",\n    borderRadius: \"5px\",\n    border: \"none\",\n    backgroundColor: \"rgb(45,142,255)\",\n    color: \"white\",\n    fontSize: \"16px\",\n    outline: \"none\",\n    display: \"inline-block\",\n    margin: \"10px auto\"\n    \n    // appearance: \"none\"\n\n  }\n\n  const datePickerStyle = {\n    padding: \"10px 30px\",\n    borderRadius: \"5px\",\n    border: \"none\",\n    backgroundColor: \"rgb(45,142,255)\",\n    color: \"white\",\n    margin: \"0 10px\",\n    fontSize: \"16px\",\n    display: \"inline-block\",\n    fontFamily: \"inherit\"\n    \n  }\n\n  const filterBtnStyle = {\n    padding: \"10px 20px\",\n    display: \"block\",\n    margin: \"10px auto\",\n    borderRadius: \"5px\",\n    border: \"none\",\n    backgroundColor: \"white\",\n    boxShadow:\n    `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    fontSize: \"16px\",\n  }\n\n  const chartStyle = {\n    width: \"45%\", \n    backgroundColor: \"white\",\n    boxShadow:\n    `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    borderRadius: \"5px\",\n    padding: \"2%\"\n\n  }\n\n  const tableStyle = {\n    margin: \"20px 0\", \n    padding: \"10px 40px\", \n    backgroundColor: \"white\",\n    boxShadow:\n    `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    borderRadius: \"5px\",\n    width: \"60%\",\n  }\n\n  \n\n  function getData(filter) {\n    // setLoading(true)\n    // console.log('loading Purchases')\n    router.loadPurchases(filter, startDate, endDate).then(data => {\n      // console.log('loaded Purchases')\n      if (data) {\n        setData(data)\n        // console.log(data)\n        setSalesData(data.salesData)\n        setCogsData(data.cogsData)\n        setTopSellers(data.topSellers)\n        \n      }\n      setLoading(false)\n    });\n}\n\n  useEffect(() => {\n    \n    getData(dateFilter)\n  }, []);\n\n \n\n\n\n  function dateFilterChanged(e) {\n    setDateFilter(e.target.value)\n    getData(e.target.value)\n  }\n\n  function filterByDate() {\n    getData(dateFilter)\n    setMiniTable(!updateMiniTable)\n\n  }\n\n\n  // const tableStyle = {\n  //   width: \"100%\", \n  //   textAlign: \"left\", \n  //   backgroundColor: \"#efefef\",\n  //   padding: \"30px\",\n  //   borderRadius: \"5px\"\n  // }\n\n  // const tableHeaderStyle = {\n  //     paddingBottom: \"10px\",\n  //   }\n  // const tableBodyStyle = {\n  //   paddingRight: \"20px\",\n  // }\n\n  // const topSellingProducts = {\n  //   \"Delta 8 THC Cart\": \"10\",\n  //   \"Disposable Vape Pen\": \"500\",\n  //   \"Endocure Pet Chews\": \"200\"\n  // }\n\n  // const productsRunningLow = {\n  //   \"3CHI Cart - Gorilla Glue\": \"55\",\n  //   \"Bath Salts\": \"2\",\n  //   \"White Whale 3.5g\": \"16\"\n  // }\n\n  // function sortProducts(array, type) {\n\n  //   // Create items array\n  //   var items = Object.keys(array).map(key => {\n  //     return [key, array[key]];\n  //   });\n\n  //   if (type === \"high\") {\n  //     // Sort the array based on the second element\n  //     items.sort(function(first, second) {\n  //       return second[1] - first[1];\n  //     });\n  //   } else if (type === \"low\") {\n  //     // Sort the array based on the first element\n  //     items.sort(function(first, second) {\n  //       return first[1] - second[1];\n  //     });\n  //   }\n  \n  //   return items\n  // }\n\n  // const sortedTopSellingProducts = sortProducts(topSellingProducts, \"high\")\n  // const sortedProductsRunningLow = sortProducts(productsRunningLow, \"low\")\n\n\n// const renderLineChart = (\n//   <LineChart width={400} height={400} data={data}>\n//     <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#8884d8\" />\n//   </LineChart>\n// );\nif (isLoading) {\n  return <div className=\"loader\"></div>;\n}\n\n\n   \n    return (\n        <Layout user={props.user}>\n          \n              <main style={style}>\n                <CallToAction />\n              \n                {/* <button class=\"edit-btn\" style={{margin: \"20px\", backgroundColor: \"#76c32d\",boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        borderRadius: \"5px\", }} onClick={() => history.push(\"/vendors\")}>Order</button> */}\n                \n                <div style={{width: \"100%\", margin: \"20px\", justifyContent: `flex-start`,}}>\n                <select style={filterStyle} defaultValue=\"month\" value={dateFilter} onChange={dateFilterChanged} id=\"dateFilter\" name=\"dateFilter\">\n                  <option value=\"day\">Day</option>\n                  <option value=\"month\">Month</option>\n                  <option value=\"week\">Week</option>\n                  <option value=\"year\">Year</option>\n                </select>\n\n                {/* <label for=\"start\">Start date:</label> */}\n\n                <input style={datePickerStyle} onChange={e => setStartDate(e.target.value)} type=\"date\" id=\"start\" name=\"start\"\n                      value={startDate}\n                      min=\"2018-01-01\" max={new Date().toISOString().slice(0,10)} />\n\n                {/* <label for=\"end\">End date:</label> */}\n\n                <input style={datePickerStyle} onChange={e => setEndDate(e.target.value)} type=\"date\" id=\"end\" name=\"end\"\n                      value={endDate}\n                    min=\"2018-01-01\" max={new Date().toISOString().slice(0,10)} />    \n                <button className=\"btn\" style={{display: \"inline-block\", margin: \"0\", padding: \"11px 30px\", backgroundColor: \"rgb(45,142,255)\", color: \"white\", fontSize: \"16px\", cursor: \"pointer\"}} onClick={filterByDate}>Filter by Date</button>\n                </div>\n                \n                <div style={chartStyle}>\n             \n              \n                  <h2>Total Sales</h2>\n                  <SalesChart data={salesData}/>\n                </div>\n                <div style={chartStyle}>\n                {/* <select id=\"itemFilter\" name=\"itemFilter\">\n                  <option value=\"product\">Product</option>\n                  <option value=\"category\">Category</option>\n                </select> */}\n                  <h2>Cost of Goods Sold</h2>\n                  <CogsChart data={cogsData}/>\n                </div>\n                <div style={tableStyle}>\n                  <h2>Top Sellers</h2>\n                  {/* <MiniTable changed={updateMiniTable} startDate={startDate} endDate={endDate}/> */}\n                  <MiniTable data={topSellers}/>\n                </div>\n                {/* <div>\n                  <h2>Top Selling Products</h2>\n                  <table style={tableStyle}>\n                    <thead >\n                      <tr>\n                        <th style={tableHeaderStyle}>Product</th>\n                        <th style={tableHeaderStyle}>Units Sold</th>\n                      </tr>\n                    </thead>\n\n                    <tbody>\n                    {sortedTopSellingProducts.map((item, index) => {\n                      return (\n                      <tr key={index} >\n                        <td style={tableBodyStyle}>{item[0]}</td>\n                        <td style={tableBodyStyle}>{item[1]}</td>\n                      </tr>\n                      )\n                    })\n                    }\n                    </tbody>\n                  </table>\n                  <button className=\"btn-2\">View All</button>\n                </div> */}\n             \n                {/* <div>\n                  <h2>Products Running Low</h2>\n                  <table style={tableStyle}>\n                    <thead >\n                      <tr>\n                        <th style={tableHeaderStyle}>Product</th>\n                        <th style={tableHeaderStyle}>Units Sold</th>\n                      </tr>\n                    </thead>\n\n                    <tbody>\n                    {sortedProductsRunningLow.map((item, index) => {\n                      return (\n                      <tr key={index} >\n                        <td style={tableBodyStyle}>{item[0]}</td>\n                        <td style={tableBodyStyle}>{item[1]}</td>\n                      </tr>\n                      )\n                    })\n                    }\n                    </tbody>\n                  </table>\n                  <button className=\"btn-2\">View All</button>\n                </div> */}\n              </main>\n        </Layout>\n       \n    )\n  }"]},"metadata":{},"sourceType":"module"}