{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Products/Product.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/Layout\";\nimport Table from \"../components/Table\";\nimport DownloadBtn from \"../components/DownloadBtn\";\nimport * as router from \"./productAPI\";\nexport default function Product(props) {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  console.log(products);\n  const outerStyle = {\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\"\n  };\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\",\n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`\n  };\n  const columns = React.useMemo(() => [{\n    Header: 'ID',\n    accessor: 'id',\n    show: false\n  }, {\n    Header: 'Product Name',\n    accessor: 'title',\n    sortDescFirst: true\n  }, {\n    Header: 'Shopify ID',\n    accessor: 'shopify_id',\n    show: false\n  }, {\n    Header: 'Vendor',\n    accessor: 'vendor',\n    sortDescFirst: true\n  }, {\n    Header: 'Vendor_ID',\n    accessor: 'vendor_id',\n    show: false\n  }, {\n    Header: 'Variants',\n    accessor: 'variants',\n    sortDescFirst: true\n  }, {\n    Header: 'Low Variants',\n    accessor: 'low_variants',\n    sortDescFirst: true\n  }, {\n    Header: 'Quantity',\n    accessor: 'quantity',\n    sortDescFirst: true\n  }, // {\n  //   Header: 'Purchases',\n  //   accessor: 'purchases',\n  //   sortDescFirst: true\n  // },\n  // {\n  //   Header: 'Purchases/day',\n  //   accessor: 'salesPerDay',\n  //   sortDescFirst: true\n  // },\n  {\n    Header: 'Stock Level',\n    accessor: 'stockLevel',\n    sortType: sortStockLevel\n  } // {\n  //   Header: 'Total',\n  //   accessor: 'total',\n  //   sortDescFirst: true,\n  //   sortType: sortMoney\n  // },\n  ], []);\n\n  function sortStockLevel(rowA, rowB) {\n    console.log(rowA);\n    console.log(rowB);\n    const a = rowA.values.stockLevel;\n    const b = rowB.values.stockLevel;\n\n    if (a === \"High\" && [\"Low\", \"Medium\", \"High\"].includes(b)) {\n      return 1;\n    } else if (a === \"Medium\" && [\"Low\", \"Medium\"].includes(b)) {\n      return 1;\n    } else if (a === \"Low\" && b === \"Low\") {\n      return 1;\n    } else {\n      return 0;\n    }\n  } //   if (column === \"submitted_date\") {\n  //     a = rowA.values.submitted_date\n  //     b = rowB.values.submitted_date\n  //   } else if (column === \"fulfilled_date\") {\n  //     a = rowA.values.fulfilled_date\n  //     b = rowB.values.fulfilled_date\n  //   } else if (column === \"completed_date\") {\n  //     a = rowA.values.completed_date\n  //     b = rowB.values.completed_date\n  //   }\n  //   var dateA = \"\"\n  //   var dateB = \"\"\n  //   var timeA = \"\"\n  //   var timeB = \"\"\n  //   var amPMA = \"\"\n  //   var amPMB = \"\"\n  //   if (a) {\n  //     a = a.split(' ')\n  //     dateA = a[0].split('/')\n  //     timeA = a[1].split(':')\n  //     amPMA = a[2]\n  //   } else {\n  //     return 0\n  //   }\n  //   if (b) {\n  //     b = b.split(' ')\n  //     dateB = b[0].split('/')\n  //     timeB = b[1].split(':')\n  //     amPMB = b[2]\n  //   } else {\n  //     return 0\n  //   }\n  //   return dateA[2] - dateB[2] || dateA[0] - dateB[0] || dateA[1] - dateB[1] || amPMA > amPMB || \n  //           timeA[0][0] - timeB[0][0] || timeA[0][1] - timeB[0][1] || timeA[1][0] - timeB[1][0] || timeA[1][1] - timeB[1][1] || true\n  // }\n  // console.log(products)\n\n\n  function getData(reload) {\n    setLoading(true);\n\n    if (props.location.state) {\n      if (reload) {\n        router.loadLowProducts().then(data => {\n          console.log(data);\n\n          if (data !== \"Error\") {\n            setProducts(data);\n          } else {\n            alert(\"Error getting data. Please try again.\");\n          }\n\n          setLoading(false);\n        });\n      } else {\n        setProducts(props.location.state.products);\n        setLoading(false);\n      }\n    } else {\n      router.loadProducts().then(data => {\n        if (data !== \"Error\") {\n          setProducts(data);\n        } else {\n          alert(\"Error getting data. Please try again or contact Step.\");\n        }\n\n        setLoading(false);\n      });\n    }\n  }\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 14\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    user: props.user,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: outerStyle,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: innerStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DownloadBtn, {\n          data: products,\n          type: \"products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          reloadData: () => getData('reload'),\n          initialSearch: \"\",\n          type: \"products\",\n          columns: columns,\n          data: products,\n          search: true,\n          popupEnabled: true,\n          perPage: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Product, \"K9AlxZeGy2352PZO+YVAWSnmDpI=\");\n\n_c = Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Products/Product.js"],"names":["React","useEffect","useState","Layout","Table","DownloadBtn","router","Product","props","products","setProducts","isLoading","setLoading","console","log","outerStyle","gridArea","backgroundColor","innerStyle","width","borderRadius","margin","padding","boxShadow","columns","useMemo","Header","accessor","show","sortDescFirst","sortType","sortStockLevel","rowA","rowB","a","values","stockLevel","b","includes","getData","reload","location","state","loadLowProducts","then","data","alert","loadProducts","user"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\nimport Layout from \"../components/Layout\"\nimport Table from \"../components/Table\"\nimport DownloadBtn from \"../components/DownloadBtn\"\nimport * as router from \"./productAPI\"\n\nexport default function Product(props) {\n\n  const [products, setProducts] = useState([])\n  const [isLoading, setLoading] = useState(false)\n\n  console.log(products)\n\n  const outerStyle = {\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\"\n  }\n\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\", \n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow:\n  `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n  }\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'ID',\n        accessor: 'id',\n        show: false\n      },\n      {\n        Header: 'Product Name',\n        accessor: 'title',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Shopify ID',\n        accessor: 'shopify_id',\n        show: false\n      },\n      {\n        Header: 'Vendor',\n        accessor: 'vendor',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Vendor_ID',\n        accessor: 'vendor_id',\n        show: false\n      },\n      {\n        Header: 'Variants',\n        accessor: 'variants',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Low Variants',\n        accessor: 'low_variants',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Quantity',\n        accessor: 'quantity',\n        sortDescFirst: true\n      },\n      // {\n      //   Header: 'Purchases',\n      //   accessor: 'purchases',\n      //   sortDescFirst: true\n      // },\n      // {\n      //   Header: 'Purchases/day',\n      //   accessor: 'salesPerDay',\n      //   sortDescFirst: true\n      // },\n      {\n        Header: 'Stock Level',\n        accessor: 'stockLevel',\n        sortType: sortStockLevel\n      },\n\n      // {\n      //   Header: 'Total',\n      //   accessor: 'total',\n      //   sortDescFirst: true,\n      //   sortType: sortMoney\n      // },\n    ],\n    []\n  )\n\n  function sortStockLevel(rowA, rowB) {\n    console.log(rowA)\n    console.log(rowB)\n    \n    const a = rowA.values.stockLevel\n    const b = rowB.values.stockLevel\n\n    if (a === \"High\" && [\"Low\", \"Medium\", \"High\"].includes(b)) {\n      return 1\n    } else if (a === \"Medium\" && [\"Low\", \"Medium\"].includes(b)) {\n      return 1\n    } else if (a === \"Low\" && b === \"Low\") {\n      return 1\n    } else {\n      return 0\n    }\n  }\n\n  //   if (column === \"submitted_date\") {\n  //     a = rowA.values.submitted_date\n  //     b = rowB.values.submitted_date\n  //   } else if (column === \"fulfilled_date\") {\n  //     a = rowA.values.fulfilled_date\n  //     b = rowB.values.fulfilled_date\n  //   } else if (column === \"completed_date\") {\n  //     a = rowA.values.completed_date\n  //     b = rowB.values.completed_date\n  //   }\n\n  //   var dateA = \"\"\n  //   var dateB = \"\"\n  //   var timeA = \"\"\n  //   var timeB = \"\"\n  //   var amPMA = \"\"\n  //   var amPMB = \"\"\n\n  //   if (a) {\n  //     a = a.split(' ')\n  //     dateA = a[0].split('/')\n  //     timeA = a[1].split(':')\n  //     amPMA = a[2]\n  //   } else {\n  //     return 0\n  //   }\n\n  //   if (b) {\n  //     b = b.split(' ')\n  //     dateB = b[0].split('/')\n  //     timeB = b[1].split(':')\n  //     amPMB = b[2]\n  //   } else {\n  //     return 0\n  //   }\n\n  //   return dateA[2] - dateB[2] || dateA[0] - dateB[0] || dateA[1] - dateB[1] || amPMA > amPMB || \n  //           timeA[0][0] - timeB[0][0] || timeA[0][1] - timeB[0][1] || timeA[1][0] - timeB[1][0] || timeA[1][1] - timeB[1][1] || true\n  // }\n\n\n  // console.log(products)\n  \n  function getData(reload) {\n    setLoading(true)\n    if (props.location.state) {\n      if (reload) {\n        router.loadLowProducts().then(data => {\n          console.log(data)\n          if (data !== \"Error\") {\n              setProducts(data)\n          } else {\n            alert(\"Error getting data. Please try again.\")\n          }\n          setLoading(false) \n        })\n      } else {\n        setProducts(props.location.state.products)\n        setLoading(false) \n      }\n    } else {\n      router.loadProducts().then(data => {\n\n        if (data !== \"Error\") {\n          setProducts(data)\n        } else {\n          alert(\"Error getting data. Please try again or contact Step.\")\n        }\n        \n        setLoading(false) \n      })\n    }  \n  }\n\n    useEffect(() => {\n      getData()\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    if (isLoading) {\n      return <div className=\"loader\"></div>;\n    }\n\n\n  return (\n    <Layout user={props.user}>\n      <div style={outerStyle}>\n        <div style={innerStyle}>\n          <h1>Products</h1>\n          <DownloadBtn data={products} type=\"products\" />\n\n  \n          <Table reloadData={() => getData('reload')} initialSearch=\"\" type=\"products\" columns={columns} data={products} search={true} popupEnabled={true} perPage={10}/>\n\n        </div>\n      </div>\n    </Layout>\n  )\n}"]},"metadata":{},"sourceType":"module"}