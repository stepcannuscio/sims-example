{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Vendor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/Layout\";\nimport Table from \"../components/Table\";\nimport DownloadBtn from \"../components/DownloadBtn\";\nimport Calendar from \"./Calendar\";\nimport { useHistory } from \"react-router-dom\";\nimport * as router from \"./vendorAPI\";\nimport { min } from \"moment\";\nexport default function Vendor(props) {\n  _s();\n\n  // console.log(props)\n  const [data, setData] = useState([]);\n  const [isAddPopupHidden, setAddPopupHidden] = useState(true);\n  const [isLoading, setLoading] = useState(false);\n  const [vendorName, setVendorName] = useState(\"\");\n  const [contactName, setContactName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [commMethod, setCommMethod] = useState(\"\");\n  const [orderMinimum, setOrderMinimum] = useState(\"\");\n  const [deals, setDeals] = useState(\"\");\n  const [shouldLoadSales, setShouldLoadSales] = useState(true);\n  const [isCalendarHidden, setCalendarHidden] = useState(true);\n  const outerStyle = {\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\"\n  };\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\",\n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`\n  };\n  const calendarStyle = {\n    border: \"none\",\n    // margin: \"0 auto\",\n    width: \"100%\",\n    height: \"400px\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    borderRadius: \"5px\" // height: \"600px\"\n\n  };\n  const addPopupStyle = {\n    position: \"absolute\",\n    zIndex: \"10\",\n    backgroundColor: \"white\",\n    padding: \"10px 20px\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    left: \"45%\"\n  };\n  const inputStyle = {\n    display: \"block\",\n    margin: \"20px 0\",\n    padding: \"5px 10px\",\n    fontSize: \"18px\"\n  };\n  const submitStyle = {\n    display: \"block\",\n    margin: \"20px 0\"\n  };\n  const history = useHistory();\n  const columns = React.useMemo(() => [{\n    Header: 'Vendor',\n    accessor: 'name',\n    sortDescFirst: true\n  }, {\n    Header: 'ID',\n    accessor: 'id',\n    show: false\n  }, {\n    Header: 'Contact Name',\n    accessor: 'contact_name',\n    show: false\n  }, {\n    Header: 'Communication Method',\n    accessor: 'comm_method',\n    show: false\n  }, {\n    Header: 'Email',\n    accessor: 'email',\n    show: false\n  }, {\n    Header: 'Phone',\n    accessor: 'phone',\n    show: false\n  }, {\n    Header: 'Products',\n    accessor: 'products',\n    sortDescFirst: true\n  }, {\n    Header: 'Low Products',\n    accessor: 'low_products',\n    sortDescFirst: true\n  }], []);\n\n  function getData() {\n    // console.log('loading Vendors')\n    setLoading(true);\n    router.loadVendors().then(data => {\n      if (data) {\n        setData(data);\n      }\n    });\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  function handleChange(e) {\n    // console.log(e.target.value)\n    switch (e.target.id) {\n      case \"vendor_name\":\n        setVendorName(e.target.value);\n        break;\n\n      case \"contact_name\":\n        setContactName(e.target.value);\n        break;\n\n      case \"email\":\n        setEmail(e.target.value);\n        break;\n\n      case \"phone\":\n        setPhone(e.target.value);\n        break;\n\n      case \"comm_method\":\n        setCommMethod(e.target.value);\n        break;\n\n      case \"order_minimum\":\n        setOrderMinimum(e.target.value);\n        break;\n\n      case \"deals\":\n        setDeals(e.target.value);\n        break;\n\n      default: // console.log('error')\n      //         setEvent(prevState => {\n      //             return {\n      //                 title: e.target.value,\n      //                 description: prevState.description,\n      //                 start: prevState.start,\n      //                 end: prevState.end\n      //             }\n      //         })\n      //         break;\n      // case \n\n    } // console.log(e.target.id)\n\n  }\n\n  function createVendor() {\n    const vendor = {\n      vendorName: vendorName,\n      contactName: contactName,\n      email: email,\n      phone: phone,\n      commMethod: commMethod,\n      orderMinimum: orderMinimum,\n      deals: deals\n    };\n\n    if (commMethod === \"default\") {\n      alert(`Change Communication Method`);\n    } else {\n      save(vendor);\n    } // var errorFlag = false\n    // Object.values(vendor).forEach(value => {\n    //     if (value === null || value === \"\") {\n    //         errorFlag = true\n    //     }\n    // })\n    // if (errorFlag === false) {\n    //     // Save in DB\n    //     console.log(sale)\n    //     save(vendor)\n    // } else {\n    //     console.log(vendor)\n    //     alert(`Vendor is incomplete. Please try again`)\n    // }\n\n  }\n\n  function save(vendor) {\n    router.saveVendor(vendor).then(data => {\n      if (data) {\n        if (data === \"Failure\") {\n          alert(\"Failed to create vendor. Please try again\");\n        } else if (data === \"Success\") {\n          console.log(\"Great success\");\n          setAddPopupHidden(true);\n          getData();\n        }\n      }\n    });\n  }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    user: props.user,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: outerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        hidden: isCalendarHidden,\n        children: /*#__PURE__*/_jsxDEV(Calendar, {\n          vendorData: data,\n          user: props.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          margin: \"20px 0\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => setCalendarHidden(!isCalendarHidden),\n          children: \"View Sales Calendar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: innerStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Vendors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(DownloadBtn, {\n          data: data,\n          type: \"vendors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"circle-btn\",\n          onClick: () => setAddPopupHidden(!isAddPopupHidden),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: addPopupStyle,\n          hidden: isAddPopupHidden,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"close\",\n            style: {\n              color: \"#1E384D\"\n            },\n            onClick: () => setAddPopupHidden(!isAddPopupHidden),\n            children: \"\\xD7    \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Create Vendor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"vendor_name\",\n            value: vendorName,\n            placeholder: \"Vendor Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"contact_name\",\n            value: contactName,\n            placeholder: \"Contact Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"email\",\n            value: email,\n            placeholder: \"Email (leave blank if don't use)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"phone\",\n            value: phone,\n            placeholder: \"Phone (leave blank if don't use)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            style: inputStyle,\n            defaultValue: \"default\",\n            onChange: handleChange,\n            id: \"comm_method\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"default\",\n              children: \"Choose Communciation Method:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"phone\",\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"text\",\n              children: \"Text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"order_minimum\",\n            value: orderMinimum,\n            placeholder: \"Order Minimum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"deals\",\n            value: deals,\n            placeholder: \"Deals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: submitStyle,\n            onClick: createVendor,\n            children: \"Create Vendor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          reloadData: () => getData(),\n          user: props.user,\n          initialSearch: props.location.state ? props.location.state.vendor : null,\n          columns: columns,\n          type: \"vendor\",\n          data: data,\n          search: true,\n          popupEnabled: true,\n          perPage: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Vendor, \"cEVHKY30tw8x13q9ZSFts7VRJZM=\", false, function () {\n  return [useHistory];\n});\n\n_c = Vendor;\n\nvar _c;\n\n$RefreshReg$(_c, \"Vendor\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Vendor.js"],"names":["React","useEffect","useState","Layout","Table","DownloadBtn","Calendar","useHistory","router","min","Vendor","props","data","setData","isAddPopupHidden","setAddPopupHidden","isLoading","setLoading","vendorName","setVendorName","contactName","setContactName","email","setEmail","phone","setPhone","commMethod","setCommMethod","orderMinimum","setOrderMinimum","deals","setDeals","shouldLoadSales","setShouldLoadSales","isCalendarHidden","setCalendarHidden","outerStyle","gridArea","backgroundColor","innerStyle","width","borderRadius","margin","padding","boxShadow","calendarStyle","border","height","addPopupStyle","position","zIndex","left","inputStyle","display","fontSize","submitStyle","history","columns","useMemo","Header","accessor","sortDescFirst","show","getData","loadVendors","then","handleChange","e","target","id","value","createVendor","vendor","alert","save","saveVendor","console","log","user","textAlign","color","location","state"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\nimport Layout from \"../components/Layout\"\nimport Table from \"../components/Table\"\nimport DownloadBtn from \"../components/DownloadBtn\"\nimport Calendar from \"./Calendar\"\nimport {useHistory} from \"react-router-dom\"\nimport * as router from \"./vendorAPI\"\nimport { min } from \"moment\"\n\nexport default function Vendor(props) {\n  // console.log(props)\n\n    const [data, setData] = useState([])\n    const [isAddPopupHidden, setAddPopupHidden] = useState(true)\n    const [isLoading, setLoading] = useState(false)\n    const [vendorName, setVendorName] = useState(\"\")\n    const [contactName, setContactName] = useState(\"\")\n    const [email, setEmail] = useState(\"\")\n    const [phone, setPhone] = useState(\"\")\n    const [commMethod, setCommMethod] = useState(\"\")\n    const [orderMinimum, setOrderMinimum] = useState(\"\")\n    const [deals, setDeals] = useState(\"\")\n    const [shouldLoadSales, setShouldLoadSales] = useState(true)\n    const [isCalendarHidden, setCalendarHidden] = useState(true)\n\n    const outerStyle = {\n        gridArea: \"main\", \n      \n        backgroundColor: \"rgb(246,246,247)\"\n      }\n  \n      const innerStyle = {\n        backgroundColor: \"white\",\n        width: \"80%\", \n        borderRadius: \"5px\",\n        margin: \"20px auto\",\n        padding: \"1% 3%\",\n        boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n      }\n     \n      const calendarStyle = {\n        border: \"none\", \n        // margin: \"0 auto\",\n        width: \"100%\", \n        height: \"400px\",\n        boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        \n        borderRadius: \"5px\",\n        // height: \"600px\"\n      }\n\n      const addPopupStyle = {\n        position: \"absolute\",\n        zIndex: \"10\",\n        backgroundColor: \"white\",\n        padding: \"10px 20px\",\n        boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        left: \"45%\",\n        \n    }\n\n    const inputStyle = {\n      display: \"block\",\n      margin: \"20px 0\",\n      padding: \"5px 10px\",\n      fontSize: \"18px\"\n  }\n\n  const submitStyle = {\n    display: \"block\",\n    margin: \"20px 0\"\n}\n\n    \n    const history = useHistory()\n\n    const columns = React.useMemo(\n        () => [\n          {\n            Header: 'Vendor',\n            accessor: 'name',\n            sortDescFirst: true\n          },\n          {\n            Header: 'ID',\n            accessor: 'id',\n            show: false\n          },\n          {\n            Header: 'Contact Name',\n            accessor: 'contact_name',\n            show: false\n          },\n          {\n            Header: 'Communication Method',\n            accessor: 'comm_method',\n            show: false\n          },\n          {\n            Header: 'Email',\n            accessor: 'email',\n            show: false\n          },\n          {\n            Header: 'Phone',\n            accessor: 'phone',\n            show: false\n          },\n      \n          {\n            Header: 'Products',\n            accessor: 'products',\n            sortDescFirst: true\n          },\n\n          {\n            Header: 'Low Products',\n            accessor: 'low_products',\n            sortDescFirst: true\n          },\n         \n        ],\n        []\n      )\n\n      function getData() {\n        // console.log('loading Vendors')\n      \n        \n        setLoading(true)\n        router.loadVendors().then(data => {\n          \n          if (data) {\n            setData(data)\n          }     \n        })\n        setLoading(false)     \n      \n        \n      }\n    \n      useEffect(() => {\n        getData()\n    }, []);\n\n      function handleChange(e) {\n        // console.log(e.target.value)\n        switch(e.target.id) {\n            case \"vendor_name\":\n                setVendorName(e.target.value)\n                break;\n            case \"contact_name\":\n                setContactName(e.target.value)\n                break;\n            case \"email\":\n                setEmail(e.target.value)\n                break\n            case \"phone\":\n                setPhone(e.target.value)\n                break\n            case \"comm_method\":\n                setCommMethod(e.target.value)\n                break\n            case \"order_minimum\":\n              setOrderMinimum(e.target.value)\n              break\n            case \"deals\":\n              setDeals(e.target.value)\n              break\n            default:\n                // console.log('error')\n        //         setEvent(prevState => {\n        //             return {\n        //                 title: e.target.value,\n        //                 description: prevState.description,\n        //                 start: prevState.start,\n        //                 end: prevState.end\n        //             }\n        //         })\n        //         break;\n        // case \n        }\n        // console.log(e.target.id)\n       \n    }\n\n    function createVendor() {\n    \n      const vendor = {\n          vendorName: vendorName,\n          contactName: contactName,\n          email: email,\n          phone: phone,\n          commMethod: commMethod,\n          orderMinimum: orderMinimum,\n          deals: deals\n      }\n\n      if (commMethod === \"default\") {\n        alert(`Change Communication Method`)\n      } else {\n        save(vendor)\n      }\n\n      \n\n      // var errorFlag = false\n      // Object.values(vendor).forEach(value => {\n      //     if (value === null || value === \"\") {\n      //         errorFlag = true\n              \n      //     }\n      // })\n  \n      // if (errorFlag === false) {\n      //     // Save in DB\n      //     console.log(sale)\n      //     save(vendor)\n      // } else {\n      //     console.log(vendor)\n      //     alert(`Vendor is incomplete. Please try again`)\n          \n      // }\n  }\n  \n  function save(vendor) {\n      \n      router.saveVendor(vendor).then(data => {\n          if (data) {\n              if (data === \"Failure\") {\n                  alert(\"Failed to create vendor. Please try again\")\n              } else if (data === \"Success\") {\n                  console.log(\"Great success\")\n                  setAddPopupHidden(true)\n                  getData()\n              }\n          }\n      })\n  }\n    \n\n     \n      if (isLoading) {\n        return <div className=\"loader\"></div>;\n      }\n\n    \n\n    return (\n\n        <Layout user={props.user}>\n        <div style={outerStyle}>\n            <div hidden={isCalendarHidden}>\n                <Calendar vendorData={data} user={props.user}/>\n            </div>\n            <div style={{textAlign: \"center\", margin: \"20px 0\"}}>\n              <button className=\"btn\" onClick={() => setCalendarHidden(!isCalendarHidden)}>View Sales Calendar</button>\n            </div>   \n            <div style={innerStyle}>\n                  <h1>Vendors</h1>\n                  <DownloadBtn data={data} type=\"vendors\" />\n                  <button className=\"circle-btn\" onClick={() => setAddPopupHidden(!isAddPopupHidden)}>+</button>\n       <div style={addPopupStyle} hidden={isAddPopupHidden}>\n       <span className=\"close\" style={{color: \"#1E384D\"}} onClick={() => setAddPopupHidden(!isAddPopupHidden)}>&times;    </span>\n        <h2>Create Vendor</h2>\n        <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"vendor_name\" value={vendorName} placeholder=\"Vendor Name\" />\n        <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"contact_name\" value={contactName} placeholder=\"Contact Name\" />\n        <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"email\" value={email} placeholder=\"Email (leave blank if don't use)\" />\n        <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"phone\" value={phone} placeholder=\"Phone (leave blank if don't use)\" />\n        <select style={inputStyle} defaultValue=\"default\" onChange={handleChange} id=\"comm_method\">\n          <option value=\"default\">Choose Communciation Method:</option>\n          <option value=\"email\">Email</option>\n          <option value=\"phone\">Phone</option>\n          <option value=\"text\">Text</option>\n        </select>\n        <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"order_minimum\" value={orderMinimum} placeholder=\"Order Minimum\" />\n        <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"deals\" value={deals} placeholder=\"Deals\" />\n        {/* <input onChange={handleChange} style={inputStyle} value={eventTitle} type=\"text\" id=\"event_title\" placeholder=\"Event Title\" />\n         <textarea onChange={handleChange} style={inputStyle} value={eventDescription} rows=\"5\" id=\"event_description\" placeholder=\"Event Description\" />\n\n         <input onChange={handleChange} style={inputStyle} type=\"datetime-local\" id=\"event_start\" name=\"event_start\" value={eventStart}/>\n\n         <input onChange={handleChange} style={inputStyle} type=\"datetime-local\" id=\"event_end\" name=\"event_end\" value={eventEnd} />\n         \n         <p style={{display: \"inline\"}}>All day?</p><input style={{display: \"inline\"}} onChange={() => setAllDay(!allDay)}type=\"checkbox\"/>\n         <select style={inputStyle} defaultValue=\"Choose Vendor:\" onChange={handleChange} id=\"vendor\">\n             <option value=\"Choose Vendor:\">Choose Vendor:</option>\n             {data.map((vendor, id) => {\n                 return (\n                    <option key={id} value={vendor.id}>{vendor.name}</option>\n                 )\n                \n             })}\n              */}\n       \n        {/* </select> */}\n         <button style={submitStyle} onClick={createVendor}>Create Vendor</button>\n        </div>\n                  <Table reloadData={() => getData()} user={props.user} initialSearch={props.location.state ? props.location.state.vendor : null} columns={columns} type=\"vendor\" data={data} search={true} popupEnabled={true} perPage={10}/>\n            </div>\n        </div>\n    \n          \n          {/* <h1>Order</h1> */}\n          \n        </Layout>\n    )\n}"]},"metadata":{},"sourceType":"module"}