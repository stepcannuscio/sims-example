{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/burm-inventory/frontend/src/App.js\";\nimport './App.css';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Inventory from './components/Inventory';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n      user: null\n    };\n    this.getUser = this.getUser.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  getUser() {\n    axios.get('http://localhost:5000/user/', {\n      withCredentials: true\n    }).then(response => {\n      console.log('Get user response: ');\n      console.log(response.data);\n\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ');\n        console.log(response.data.user);\n        this.setState({\n          loggedIn: true,\n          user: response.data.user\n        });\n        this.render();\n      } else {\n        console.log('Get user: no user');\n        this.setState({\n          loggedIn: false,\n          username: null\n        });\n      }\n    });\n  }\n\n  render() {\n    const PrivateRoute = ({\n      component: Component,\n      user,\n      ...rest\n    }) => {\n      const isLoggedIn = this.state.loggedIn;\n      return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n        render: props => isLoggedIn ? /*#__PURE__*/_jsxDEV(Component, { ...props,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n          to: {\n            pathname: '/login',\n            state: {\n              from: props.location\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: \"#1E384D\",\n        height: \"100vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            isLoggedIn: this.state.loggedIn,\n            parentCallback: this.getUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/inventory\",\n          component: Inventory,\n          user: this.state.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n          path: \"/\",\n          component: Home,\n          user: this.state.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/burm-inventory/frontend/src/App.js"],"names":["Switch","Route","Redirect","Login","Home","React","Component","axios","Inventory","App","constructor","state","loggedIn","user","getUser","bind","componentDidMount","get","withCredentials","then","response","console","log","data","setState","render","username","PrivateRoute","component","rest","isLoggedIn","props","pathname","from","location","backgroundColor","height"],"mappings":"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","sourcesContent":["import './App.css';\nimport {Switch, Route, Redirect} from 'react-router-dom'\nimport Login from './components/Login'\nimport Home from './components/Home'\nimport React, { Component } from 'react';\nimport axios from \"axios\"\nimport Inventory from './components/Inventory';\n\nclass App extends Component {\n  \n  constructor() {\n    super()\n    this.state = {\n      loggedIn: false,\n      user: null\n    }\n\n    this.getUser = this.getUser.bind(this)\n    this.componentDidMount = this.componentDidMount.bind(this)\n    \n  }\n\n  componentDidMount() {\n    this.getUser()\n  }\n\n  getUser() {\n    axios.get('http://localhost:5000/user/', {withCredentials: true}).then(response => {\n      console.log('Get user response: ')\n      console.log(response.data)\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ')\n        console.log(response.data.user)\n        this.setState({\n          loggedIn: true,\n          user: response.data.user\n        })\n        this.render()\n      } else {\n        console.log('Get user: no user');\n        this.setState({\n          loggedIn: false,\n          username: null\n        })\n      }\n    }\n    )\n  } \n\n  render() {\n\n    const PrivateRoute = ({ component: Component, user, ...rest }) => {\n\n      const isLoggedIn = this.state.loggedIn\n\n      return (\n        <Route\n          {...rest}\n          render={props =>\n            isLoggedIn ? (\n              <Component {...props} user={user}/>\n            ) : (\n              <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n            )\n          }\n        />\n      )\n    }\n\n    return (\n      <div style={{backgroundColor: \"#1E384D\", height: \"100vh\"}}>\n        <Switch>\n          <Route path=\"/login\">\n            <Login isLoggedIn={this.state.loggedIn} parentCallback = {this.getUser}/>\n          </Route>\n          <PrivateRoute path='/inventory' component={Inventory} user={this.state.user}/>\n          <PrivateRoute path='/' component={Home} user={this.state.user}/>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}