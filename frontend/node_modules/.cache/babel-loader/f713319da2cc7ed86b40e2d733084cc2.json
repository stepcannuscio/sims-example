{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Vendor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/Layout\";\nimport Table from \"../components/Table\";\nimport DownloadBtn from \"../components/DownloadBtn\";\nimport Calendar from \"./Calendar\";\nimport * as router from \"./vendorAPI\";\nexport default function Vendor(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [isAddPopupHidden, setAddPopupHidden] = useState(true);\n  const [isLoading, setLoading] = useState(false);\n  const [vendorName, setVendorName] = useState(\"\");\n  const [contactName, setContactName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [commMethod, setCommMethod] = useState(\"\");\n  const [commMethods, setCommMethods] = useState([]);\n  const [orderMinimum, setOrderMinimum] = useState(\"\");\n  const [deals, setDeals] = useState(\"\");\n  const [isCalendarHidden, setCalendarHidden] = useState(true);\n  const outerStyle = {\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\"\n  };\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\",\n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`\n  };\n  const inputStyle = {\n    display: \"block\",\n    margin: \"20px 0\",\n    padding: \"10px 20px\",\n    fontSize: \"16px\",\n    width: \"80%\",\n    border: \"none\",\n    borderBottom: \"1px solid #76c32d\"\n  };\n  const columns = React.useMemo(() => [{\n    Header: 'Vendor',\n    accessor: 'name',\n    sortDescFirst: true\n  }, {\n    Header: 'ID',\n    accessor: 'id',\n    show: false\n  }, {\n    Header: 'Contact Name',\n    accessor: 'contact_name',\n    show: false\n  }, {\n    Header: 'Communication Method',\n    accessor: 'comm_method',\n    show: false\n  }, {\n    Header: 'Email',\n    accessor: 'email',\n    show: false\n  }, {\n    Header: 'Phone',\n    accessor: 'phone',\n    show: false\n  }, {\n    Header: 'Website',\n    accessor: 'website',\n    show: false\n  }, {\n    Header: 'Products',\n    accessor: 'products',\n    sortDescFirst: true\n  }, {\n    Header: 'Low Products',\n    accessor: 'low_products',\n    sortDescFirst: true\n  }], []);\n\n  function getData() {\n    setLoading(true);\n    router.loadVendors().then(data => {\n      if (data) {\n        setData(data);\n      }\n    });\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function handleChange(e) {\n    switch (e.target.id) {\n      case \"vendor_name\":\n        setVendorName(e.target.value);\n        break;\n\n      case \"contact_name\":\n        setContactName(e.target.value);\n        break;\n\n      case \"email\":\n        setEmail(e.target.value);\n        break;\n\n      case \"phone\":\n        setPhone(e.target.value);\n        break;\n      // case \"comm_method\":\n      //     setCommMethod(e.target.value)\n      //     break\n\n      case \"order_minimum\":\n        setOrderMinimum(e.target.value);\n        break;\n\n      case \"deals\":\n        setDeals(e.target.value);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  function createVendor() {\n    const vendor = {\n      vendorName: vendorName,\n      contactName: contactName,\n      email: email,\n      phone: phone,\n      // commMethod: commMethod,\n      orderMinimum: orderMinimum,\n      deals: deals\n    };\n\n    if (vendorName === \"\" || contactName === \"\" || !(commMethods.length > 0)) {\n      alert(`Please fill out all required vendor information.`);\n    } else {\n      save(vendor);\n    }\n  }\n\n  function save(vendor) {\n    router.saveVendor(vendor, commMethods).then(data => {\n      if (data) {\n        if (data === \"Failure\") {\n          alert(\"Failed to create vendor. Please try again\");\n        } else if (data === \"Success\") {\n          setAddPopupHidden(true);\n          getData();\n        }\n      }\n    });\n  }\n\n  function commMethodSelected(e) {\n    if (e.target.checked) {\n      // it is selected - add to array\n      setCommMethods(oldArray => [...oldArray, e.target.id]);\n    } else {\n      // unselected - remove from array\n      var array = [...commMethods]; // make a separate copy of the array\n\n      var index = array.indexOf(e.target.id);\n\n      if (index !== -1) {\n        array.splice(index, 1);\n        setCommMethods(array);\n      }\n    }\n  }\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    user: props.user,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: outerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        hidden: isCalendarHidden,\n        children: /*#__PURE__*/_jsxDEV(Calendar, {\n          vendorData: data,\n          user: props.user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\",\n          margin: \"20px 0\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => setCalendarHidden(!isCalendarHidden),\n          children: [isCalendarHidden ? \"Show\" : \"Hide\", \" Sales Calendar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: innerStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Vendors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DownloadBtn, {\n          data: data,\n          type: \"vendors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"circle-btn\",\n          style: {\n            margin: \"0\",\n            left: \"80%\",\n            bottom: \"85px\"\n          },\n          onClick: () => setAddPopupHidden(!isAddPopupHidden),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-popup\",\n          hidden: isAddPopupHidden,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"close\",\n            style: {\n              color: \"#1E384D\"\n            },\n            onClick: () => setAddPopupHidden(!isAddPopupHidden),\n            children: \"\\xD7    \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Create Vendor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"vendor_name\",\n            value: vendorName,\n            placeholder: \"Vendor Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"contact_name\",\n            value: contactName,\n            placeholder: \"Contact Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"email\",\n            value: email,\n            placeholder: \"Email (leave blank if don't use)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"phone\",\n            value: phone,\n            placeholder: \"Phone (leave blank if don't use)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: commMethodSelected,\n            type: \"checkbox\",\n            id: \"email\",\n            name: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: commMethodSelected,\n            type: \"checkbox\",\n            id: \"phone\",\n            name: \"phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone\",\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: commMethodSelected,\n            type: \"checkbox\",\n            id: \"text\",\n            name: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"text\",\n            children: \"Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: commMethodSelected,\n            type: \"checkbox\",\n            id: \"website\",\n            name: \"website\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"website\",\n            children: \"Website\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"order_minimum\",\n            value: orderMinimum,\n            placeholder: \"Order Minimum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"text\",\n            style: inputStyle,\n            id: \"deals\",\n            value: deals,\n            placeholder: \"Deals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-2\",\n            style: {\n              margin: \"0\"\n            },\n            onClick: createVendor,\n            children: \"Create Vendor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          reloadData: () => getData(),\n          user: props.user,\n          initialSearch: props.location.state ? props.location.state.vendor : null,\n          columns: columns,\n          type: \"vendor\",\n          data: data,\n          search: true,\n          popupEnabled: true,\n          perPage: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Vendor, \"KmktOqhgtnj4qIFhfMuAmR9yxHo=\");\n\n_c = Vendor;\n\nvar _c;\n\n$RefreshReg$(_c, \"Vendor\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Vendor.js"],"names":["React","useEffect","useState","Layout","Table","DownloadBtn","Calendar","router","Vendor","props","data","setData","isAddPopupHidden","setAddPopupHidden","isLoading","setLoading","vendorName","setVendorName","contactName","setContactName","email","setEmail","phone","setPhone","commMethod","setCommMethod","commMethods","setCommMethods","orderMinimum","setOrderMinimum","deals","setDeals","isCalendarHidden","setCalendarHidden","outerStyle","gridArea","backgroundColor","innerStyle","width","borderRadius","margin","padding","boxShadow","inputStyle","display","fontSize","border","borderBottom","columns","useMemo","Header","accessor","sortDescFirst","show","getData","loadVendors","then","handleChange","e","target","id","value","createVendor","vendor","length","alert","save","saveVendor","commMethodSelected","checked","oldArray","array","index","indexOf","splice","user","textAlign","left","bottom","color","location","state"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\nimport Layout from \"../components/Layout\"\nimport Table from \"../components/Table\"\nimport DownloadBtn from \"../components/DownloadBtn\"\nimport Calendar from \"./Calendar\"\nimport * as router from \"./vendorAPI\"\n\nexport default function Vendor(props) {\n\n  const [data, setData] = useState([])\n  const [isAddPopupHidden, setAddPopupHidden] = useState(true)\n  const [isLoading, setLoading] = useState(false)\n  const [vendorName, setVendorName] = useState(\"\")\n  const [contactName, setContactName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [phone, setPhone] = useState(\"\")\n  const [commMethod, setCommMethod] = useState(\"\")\n  const [commMethods, setCommMethods] = useState([])\n  const [orderMinimum, setOrderMinimum] = useState(\"\")\n  const [deals, setDeals] = useState(\"\")\n  const [isCalendarHidden, setCalendarHidden] = useState(true)\n\n  const outerStyle = {\n    gridArea: \"main\", \n    backgroundColor: \"rgb(246,246,247)\"\n  }\n\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\", \n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n  }\n\n  const inputStyle = {\n    display: \"block\",\n    margin: \"20px 0\",\n    padding: \"10px 20px\",\n    fontSize: \"16px\",\n    width: \"80%\",\n    border: \"none\",\n    borderBottom: \"1px solid #76c32d\"\n  }    \n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'Vendor',\n        accessor: 'name',\n        sortDescFirst: true\n      },\n      {\n        Header: 'ID',\n        accessor: 'id',\n        show: false\n      },\n      {\n        Header: 'Contact Name',\n        accessor: 'contact_name',\n        show: false\n      },\n      {\n        Header: 'Communication Method',\n        accessor: 'comm_method',\n        show: false\n      },\n      {\n        Header: 'Email',\n        accessor: 'email',\n        show: false\n      },\n      {\n        Header: 'Phone',\n        accessor: 'phone',\n        show: false\n      },\n      {\n        Header: 'Website',\n        accessor: 'website',\n        show: false\n      },\n      {\n        Header: 'Products',\n        accessor: 'products',\n        sortDescFirst: true\n      },\n\n      {\n        Header: 'Low Products',\n        accessor: 'low_products',\n        sortDescFirst: true\n      },\n      \n    ],\n    []\n  )\n\n  function getData() {    \n    setLoading(true)\n    router.loadVendors().then(data => {\n      if (data) {\n        setData(data)\n      }     \n    })\n    setLoading(false)     \n  }\n\n  useEffect(() => {\n    getData()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function handleChange(e) {\n    switch(e.target.id) {\n      case \"vendor_name\":\n          setVendorName(e.target.value)\n          break;\n      case \"contact_name\":\n          setContactName(e.target.value)\n          break;\n      case \"email\":\n          setEmail(e.target.value)\n          break\n      case \"phone\":\n          setPhone(e.target.value)\n          break\n      // case \"comm_method\":\n      //     setCommMethod(e.target.value)\n      //     break\n      case \"order_minimum\":\n        setOrderMinimum(e.target.value)\n        break\n      case \"deals\":\n        setDeals(e.target.value)\n        break\n      default:\n        break\n      }       \n    }\n\n    function createVendor() {\n    \n      const vendor = {\n          vendorName: vendorName,\n          contactName: contactName,\n          email: email,\n          phone: phone,\n          // commMethod: commMethod,\n          orderMinimum: orderMinimum,\n          deals: deals\n      }\n\n      if (vendorName === \"\" || contactName === \"\" || !(commMethods.length > 0)) {\n        alert(`Please fill out all required vendor information.`)\n      } else {\n        save(vendor)\n      }\n  }\n  \n  function save(vendor) {\n    router.saveVendor(vendor, commMethods).then(data => {\n      if (data) {\n        if (data === \"Failure\") {\n          alert(\"Failed to create vendor. Please try again\")\n        } else if (data === \"Success\") {\n          setAddPopupHidden(true)\n          getData()\n        }\n      }\n    })\n  }\n\n  function commMethodSelected(e) {\n\n    if (e.target.checked) {\n      // it is selected - add to array\n      setCommMethods(oldArray => [...oldArray, e.target.id])\n    } else {\n      // unselected - remove from array\n      var array = [...commMethods]; // make a separate copy of the array\n      var index = array.indexOf(e.target.id)\n      if (index !== -1) {\n          array.splice(index, 1);\n          setCommMethods(array);\n      }         \n    }\n  }\n    \n  if (isLoading) {\n    return <div className=\"loader\"></div>;\n  }\n\n  return (\n    <Layout user={props.user}>\n      <div style={outerStyle}>\n        <div hidden={isCalendarHidden}>\n            <Calendar vendorData={data} user={props.user}/>\n        </div>\n        <div style={{textAlign: \"center\", margin: \"20px 0\"}}>\n          <button className=\"btn\" onClick={() => setCalendarHidden(!isCalendarHidden)}>{isCalendarHidden ? \"Show\" : \"Hide\"} Sales Calendar</button>\n        </div>   \n        <div style={innerStyle}>\n          <h1>Vendors</h1>\n          <DownloadBtn data={data} type=\"vendors\" />\n          <button className=\"circle-btn\" style={{margin: \"0\", left: \"80%\", bottom: \"85px\"}} onClick={() => setAddPopupHidden(!isAddPopupHidden)}>+</button>\n          <div className=\"add-popup\" hidden={isAddPopupHidden}>\n            <span className=\"close\" style={{color: \"#1E384D\"}} onClick={() => setAddPopupHidden(!isAddPopupHidden)}>&times;    </span>\n            <h2>Create Vendor</h2>\n            <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"vendor_name\" value={vendorName} placeholder=\"Vendor Name\" />\n            <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"contact_name\" value={contactName} placeholder=\"Contact Name\" />\n            <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"email\" value={email} placeholder=\"Email (leave blank if don't use)\" />\n            <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"phone\" value={phone} placeholder=\"Phone (leave blank if don't use)\" />\n\n            <input onChange={commMethodSelected}type=\"checkbox\" id=\"email\" name=\"email\" />\n            <label htmlFor=\"email\">Email</label>\n\n            <input onChange={commMethodSelected} type=\"checkbox\" id=\"phone\" name=\"phone\" />\n            <label htmlFor=\"phone\">Phone</label>\n\n            <input onChange={commMethodSelected} type=\"checkbox\" id=\"text\" name=\"text\" />\n            <label htmlFor=\"text\">Text</label>\n\n            <input onChange={commMethodSelected} type=\"checkbox\" id=\"website\" name=\"website\" />\n            <label htmlFor=\"website\">Website</label>\n\n            {/* <select style={inputStyle} defaultValue=\"default\" onChange={handleChange} id=\"comm_method\">\n              <option value=\"default\">Choose Communciation Method:</option>\n              <option value=\"email\">Email</option>\n              <option value=\"phone\">Phone</option>\n              <option value=\"text\">Text</option>\n            </select> */}\n            <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"order_minimum\" value={orderMinimum} placeholder=\"Order Minimum\" />\n            <input onChange={handleChange} type=\"text\" style={inputStyle} id=\"deals\" value={deals} placeholder=\"Deals\" />\n            <button className=\"btn-2\" style={{margin: \"0\"}} onClick={createVendor}>Create Vendor</button>\n          </div>\n          <Table reloadData={() => getData()} user={props.user} initialSearch={props.location.state ? props.location.state.vendor : null} columns={columns} type=\"vendor\" data={data} search={true} popupEnabled={true} perPage={10}/>\n        </div>\n      </div>  \n    </Layout>\n  )\n}"]},"metadata":{},"sourceType":"module"}