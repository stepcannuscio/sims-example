{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Products/Product.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Layout from \"../components/Layout\";\nimport Table from \"../components/Table\";\nimport DownloadBtn from \"../components/DownloadBtn\";\nimport * as router from \"./productAPI\";\nexport default function Product(props) {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const outerStyle = {\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\"\n  };\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\",\n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`\n  };\n  const columns = React.useMemo(() => [{\n    Header: 'ID',\n    accessor: 'id',\n    show: false\n  }, {\n    Header: 'Product Name',\n    accessor: 'title',\n    sortDescFirst: true\n  }, {\n    Header: 'Shopify ID',\n    accessor: 'shopify_id',\n    show: false\n  }, {\n    Header: 'Vendor',\n    accessor: 'vendor',\n    sortDescFirst: true\n  }, {\n    Header: 'Vendor_ID',\n    accessor: 'vendor_id',\n    show: false\n  }, {\n    Header: 'Variants',\n    accessor: 'variants',\n    sortDescFirst: true\n  }, {\n    Header: 'Low Variants',\n    accessor: 'low_variants',\n    sortDescFirst: true\n  }, {\n    Header: 'Quantity',\n    accessor: 'quantity',\n    sortDescFirst: true\n  }, {\n    Header: 'Stock Level',\n    accessor: 'stockLevel',\n    sortType: sortStockLevel\n  }], []);\n\n  function sortStockLevel(rowA, rowB) {\n    const a = rowA.values.stockLevel;\n    const b = rowB.values.stockLevel;\n\n    if (a === \"High\" && [\"Low\", \"Medium\", \"High\"].includes(b)) {\n      return 1;\n    } else if (a === \"Medium\" && [\"Low\", \"Medium\"].includes(b)) {\n      return 1;\n    } else if (a === \"Low\" && b === \"Low\") {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n\n  function getData(reload) {\n    setLoading(true);\n\n    if (props.location.state) {\n      if (reload) {\n        router.loadLowProducts().then(data => {\n          console.log(\"here\");\n\n          if (data !== \"Error\") {\n            setProducts(data);\n          } else {\n            alert(\"Error getting data. Please try again.\");\n          }\n\n          setLoading(false);\n        });\n      } else {\n        console.log('or here');\n        setProducts(props.location.state.products);\n        setLoading(false);\n      }\n    } else {\n      router.loadProducts().then(data => {\n        console.log('or or here');\n\n        if (data !== \"Error\") {\n          setProducts(data);\n        } else {\n          alert(\"Error getting data. Please try again or contact Step.\");\n        }\n\n        setLoading(false);\n      });\n    }\n  }\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 14\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    user: props.user,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: outerStyle,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: innerStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DownloadBtn, {\n          data: products,\n          type: \"products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          reloadData: () => getData('reload'),\n          initialSearch: \"\",\n          type: \"products\",\n          columns: columns,\n          data: products,\n          search: true,\n          popupEnabled: true,\n          perPage: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Product, \"K9AlxZeGy2352PZO+YVAWSnmDpI=\");\n\n_c = Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Products/Product.js"],"names":["React","useEffect","useState","Layout","Table","DownloadBtn","router","Product","props","products","setProducts","isLoading","setLoading","outerStyle","gridArea","backgroundColor","innerStyle","width","borderRadius","margin","padding","boxShadow","columns","useMemo","Header","accessor","show","sortDescFirst","sortType","sortStockLevel","rowA","rowB","a","values","stockLevel","b","includes","getData","reload","location","state","loadLowProducts","then","data","console","log","alert","loadProducts","user"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\"\nimport Layout from \"../components/Layout\"\nimport Table from \"../components/Table\"\nimport DownloadBtn from \"../components/DownloadBtn\"\nimport * as router from \"./productAPI\"\n\nexport default function Product(props) {\n\n  const [products, setProducts] = useState([])\n  const [isLoading, setLoading] = useState(false)\n\n  const outerStyle = {\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\"\n  }\n\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\", \n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow:\n  `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n  }\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: 'ID',\n        accessor: 'id',\n        show: false\n      },\n      {\n        Header: 'Product Name',\n        accessor: 'title',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Shopify ID',\n        accessor: 'shopify_id',\n        show: false\n      },\n      {\n        Header: 'Vendor',\n        accessor: 'vendor',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Vendor_ID',\n        accessor: 'vendor_id',\n        show: false\n      },\n      {\n        Header: 'Variants',\n        accessor: 'variants',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Low Variants',\n        accessor: 'low_variants',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Quantity',\n        accessor: 'quantity',\n        sortDescFirst: true\n      },\n      {\n        Header: 'Stock Level',\n        accessor: 'stockLevel',\n        sortType: sortStockLevel\n      },\n    ],\n    []\n  )\n\n  function sortStockLevel(rowA, rowB) {\n    \n    const a = rowA.values.stockLevel\n    const b = rowB.values.stockLevel\n\n    if (a === \"High\" && [\"Low\", \"Medium\", \"High\"].includes(b)) {\n      return 1\n    } else if (a === \"Medium\" && [\"Low\", \"Medium\"].includes(b)) {\n      return 1\n    } else if (a === \"Low\" && b === \"Low\") {\n      return 1\n    } else {\n      return -1\n    }\n  }\n\n  function getData(reload) {\n    setLoading(true)\n    if (props.location.state) {\n      if (reload) {\n        router.loadLowProducts().then(data => {\n          console.log(\"here\")\n          if (data !== \"Error\") {\n              setProducts(data)\n          } else {\n            alert(\"Error getting data. Please try again.\")\n          }\n          setLoading(false) \n        })\n      } else {\n        console.log('or here')\n        setProducts(props.location.state.products)\n        setLoading(false) \n      }\n    } else {\n      router.loadProducts().then(data => {\n        console.log('or or here')\n        if (data !== \"Error\") {\n          setProducts(data)\n        } else {\n          alert(\"Error getting data. Please try again or contact Step.\")\n        } \n        setLoading(false) \n      })\n    }  \n  }\n\n    useEffect(() => {\n      getData()\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    if (isLoading) {\n      return <div className=\"loader\"></div>;\n    }\n\n  return (\n    <Layout user={props.user}>\n      <div style={outerStyle}>\n        <div style={innerStyle}>\n          <h1>Products</h1>\n          <DownloadBtn data={products} type=\"products\" />\n          <Table reloadData={() => getData('reload')} initialSearch=\"\" type=\"products\" columns={columns} data={products} search={true} popupEnabled={true} perPage={10}/>\n        </div>\n      </div>\n    </Layout>\n  )\n}"]},"metadata":{},"sourceType":"module"}