{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Calendar.js\",\n    _s = $RefreshSig$();\n\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport React, { useState, useEffect } from \"react\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport OutsideAlerter from \"../components/OutsideAlerter\"; // import AddPopup from \"./AddPopup\"\n\nimport * as router from \"./vendorAPI\";\nexport default function MyCalendar(props) {\n  _s();\n\n  console.log(props.user.id);\n  const [eventTitle, setEventTitle] = useState(\"\");\n  const [eventDescription, setEventDescription] = useState(\"\");\n  const [vendor, setVendor] = useState(\"Choose Vendor:\");\n  const [eventStart, setEventStart] = useState(\"\");\n  const [eventEnd, setEventEnd] = useState(\"\");\n  const [allDay, setAllDay] = useState(false);\n  const [isAddPopupHidden, setAddPopupHidden] = useState(true);\n  const [isEventPopupHidden, setEventPopupHidden] = useState(true);\n  const [clickedEvent, setClickedEvent] = useState({\n    title: \"Default title\",\n    description: \"Default description\",\n    vendor: \"Default vendor\",\n    start: \"Default start\",\n    end: \"Default end\"\n  });\n  const [data, setData] = useState([]);\n  const inputStyle = {\n    display: \"block\",\n    margin: \"20px 0\",\n    padding: \"5px 10px\",\n    fontSize: \"16px\",\n    fontFamily: \"inherit\"\n  };\n  const submitStyle = {\n    display: \"block\",\n    margin: \"20px 0\"\n  };\n  const calendarStyle = {\n    backgroundColor: \"white\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    borderRadius: \"5px\",\n    height: 400,\n    // width: 800,\n    margin: \"20px 0\",\n    padding: \"10px\"\n  };\n  const addBtnStyle = {\n    padding: \"10px 15px\",\n    borderRadius: \"50%\",\n    border: \"none\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    fontSize: \"20px\",\n    color: \"rgb(30,56,77)\",\n    backgroundColor: \"white\",\n    fontWeight: \"500\",\n    position: \"relative\",\n    left: \"95%\",\n    marginTop: \"20px\",\n    outline: \"none\" // float: \"right\",\n    // margin: \"20px\"\n\n  }; // const addPopupStyle = {\n  //     position: \"absolute\",\n  //     zIndex: \"10\",\n  //     backgroundColor: \"white\",\n  //     padding: \"20px 40px\",\n  //     boxShadow:\n  //     `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n  //     left: \"45%\",\n  // }\n\n  const localizer = momentLocalizer(moment);\n\n  function getData() {\n    // console.log('getting sales')\n    router.loadSales().then(data => {\n      if (data) {\n        setData(data);\n      }\n    });\n  }\n\n  useEffect(() => {\n    getData();\n  }, []); // const myEventsList = [\n  //     props.data.forEach(sale => {\n  //         sale.date = new Date(sale.date)\n  //     })\n  //   {\n  //     title: \"Sunrise Sale\",\n  //     start: new Date(2020, 10, 27), // 10 is novermber\n  //     end: new Date(2020, 11, 1), // doesn't include last day\n  //     allDay: true,\n  //     description: \"20% off CBD\"\n  //     // resource?: any,\n  //   },\n  //   {}\n  // ];\n\n  function createSale() {\n    // setEvent\n    var startDate = null;\n    var endDate = null; // console.log(eventStart)\n    // console.log(eventEnd)\n\n    if (allDay && eventStart != \"\" && eventEnd != \"\") {\n      startDate = eventStart.slice(0, 10) + \"T00:00\";\n      endDate = eventEnd.slice(0, 10) + \"T23:59\";\n    } // console.log(startDate)\n    // console.log(endDate)\n\n\n    const sale = {\n      title: eventTitle,\n      description: eventDescription,\n      start_date: startDate != null ? startDate : eventStart,\n      end_date: endDate != null ? endDate : eventEnd,\n      all_day: allDay,\n      vendor: vendor != \"Choose Vendor:\" ? vendor : null,\n      user_id: props.user.id\n    }; // console.log(sale)\n\n    var errorFlag = false;\n    Object.values(sale).forEach(value => {\n      if (value === null || value === \"\") {\n        errorFlag = true;\n      }\n    });\n\n    if (errorFlag === false) {\n      // Save in DB\n      // console.log(sale)\n      save(sale);\n    } else {\n      // console.log(sale)\n      alert(`Event is incomplete. Please try again`);\n    }\n  }\n\n  function save(sale) {\n    router.saveSale(sale).then(data => {\n      if (data) {\n        if (data === \"Failure\") {\n          alert(\"Failed to create sale. Please try again\");\n        } else if (data === \"Success\") {\n          // console.log(\"Great success\")\n          setAddPopupHidden(true);\n          getData();\n        }\n      }\n    });\n  }\n\n  function handleChange(e) {\n    // console.log(e.target.value)\n    switch (e.target.id) {\n      case \"event_title\":\n        setEventTitle(e.target.value);\n        break;\n\n      case \"event_description\":\n        setEventDescription(e.target.value);\n        break;\n\n      case \"event_start\":\n        setEventStart(e.target.value);\n        break;\n\n      case \"event_end\":\n        setEventEnd(e.target.value);\n        break;\n\n      case \"vendor\":\n        setVendor(e.target.value);\n        break;\n\n      default: // console.log('error')\n      //         setEvent(prevState => {\n      //             return {\n      //                 title: e.target.value,\n      //                 description: prevState.description,\n      //                 start: prevState.start,\n      //                 end: prevState.end\n      //             }\n      //         })\n      //         break;\n      // case \n\n    } // console.log(e.target.id)\n\n  }\n\n  function showEvent(e) {\n    // console.log(e)\n    setClickedEvent({\n      title: e.title,\n      description: e.description,\n      vendor: e.name,\n      start: e.start.toString(),\n      end: e.end.toString()\n    });\n    setEventPopupHidden(!isEventPopupHidden);\n  } // console.log(data)\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"0 auto\",\n      width: \"60%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"circle-btn\",\n      onClick: () => setAddPopupHidden(!isAddPopupHidden),\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-popup\",\n      hidden: isAddPopupHidden,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        style: {\n          color: \"#1E384D\"\n        },\n        onClick: () => setAddPopupHidden(!isAddPopupHidden),\n        children: \"\\xD7    \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        value: eventTitle,\n        type: \"text\",\n        id: \"event_title\",\n        placeholder: \"Event Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: handleChange,\n        style: inputStyle,\n        value: eventDescription,\n        rows: \"5\",\n        id: \"event_description\",\n        placeholder: \"Event Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        type: \"datetime-local\",\n        id: \"event_start\",\n        name: \"event_start\",\n        value: eventStart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        type: \"datetime-local\",\n        id: \"event_end\",\n        name: \"event_end\",\n        value: eventEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: \"inline\"\n        },\n        children: \"All day?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          display: \"inline\"\n        },\n        onChange: () => setAllDay(!allDay),\n        type: \"checkbox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        style: inputStyle,\n        defaultValue: \"Choose Vendor:\",\n        onChange: handleChange,\n        id: \"vendor\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Choose Vendor:\",\n          children: \"Choose Vendor:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 14\n        }, this), props.vendorData.map((vendor, id) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: vendor.id,\n            children: vendor.name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 21\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-2\",\n        style: {\n          margin: \"0\"\n        },\n        onClick: createSale,\n        children: \"Create Sale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(OutsideAlerter, {\n      hide: () => setEventPopupHidden(true),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: addPopupStyle,\n        hidden: isEventPopupHidden,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          style: {\n            color: \"#1E384D\"\n          },\n          onClick: () => setEventPopupHidden(true),\n          children: \"\\xD7    \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: clickedEvent.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: clickedEvent.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Vendor: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 16\n          }, this), clickedEvent.vendor]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Start: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 16\n          }, this), clickedEvent.start]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"End: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 16\n          }, this), clickedEvent.end]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n      localizer: localizer,\n      events: data,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      style: calendarStyle // onSelectEvent={}\n      ,\n      tooltipAccessor: \"title\",\n      onSelectEvent: e => showEvent(e),\n      popup: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyCalendar, \"+sNd+LYJy/jglWh3xQGSfHYxLZE=\");\n\n_c = MyCalendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyCalendar\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Calendar.js"],"names":["Calendar","momentLocalizer","moment","React","useState","useEffect","OutsideAlerter","router","MyCalendar","props","console","log","user","id","eventTitle","setEventTitle","eventDescription","setEventDescription","vendor","setVendor","eventStart","setEventStart","eventEnd","setEventEnd","allDay","setAllDay","isAddPopupHidden","setAddPopupHidden","isEventPopupHidden","setEventPopupHidden","clickedEvent","setClickedEvent","title","description","start","end","data","setData","inputStyle","display","margin","padding","fontSize","fontFamily","submitStyle","calendarStyle","backgroundColor","boxShadow","borderRadius","height","addBtnStyle","border","color","fontWeight","position","left","marginTop","outline","localizer","getData","loadSales","then","createSale","startDate","endDate","slice","sale","start_date","end_date","all_day","user_id","errorFlag","Object","values","forEach","value","save","alert","saveSale","handleChange","e","target","showEvent","name","toString","width","vendorData","map","addPopupStyle"],"mappings":"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","sourcesContent":["import { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport React, {useState, useEffect} from \"react\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport OutsideAlerter from \"../components/OutsideAlerter\"\n// import AddPopup from \"./AddPopup\"\nimport * as router from \"./vendorAPI\"\n\n\n\nexport default function MyCalendar(props) {\n    console.log(props.user.id)\n    const [eventTitle, setEventTitle] = useState(\"\")\n    const [eventDescription, setEventDescription] = useState(\"\")\n    const [vendor, setVendor] = useState(\"Choose Vendor:\")\n    const [eventStart, setEventStart] = useState(\"\")\n    const [eventEnd, setEventEnd] = useState(\"\")\n    const [allDay, setAllDay] = useState(false)\n    const [isAddPopupHidden, setAddPopupHidden] = useState(true)\n    const [isEventPopupHidden, setEventPopupHidden] = useState(true)\n    const [clickedEvent, setClickedEvent] = useState({\n        title: \"Default title\",\n        description: \"Default description\",\n        vendor: \"Default vendor\",\n        start: \"Default start\",\n        end: \"Default end\"\n    })\n\n    const [data, setData] = useState([])\n\n    const inputStyle = {\n        display: \"block\",\n        margin: \"20px 0\",\n        padding: \"5px 10px\",\n        fontSize: \"16px\",\n        fontFamily: \"inherit\"\n    }\n\n    const submitStyle = {\n        display: \"block\",\n        margin: \"20px 0\"\n    }\n\n    const calendarStyle = {\n        backgroundColor: \"white\",\n        boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        borderRadius: \"5px\",\n        height: 400,\n        // width: 800,\n        margin: \"20px 0\", \n        padding: \"10px\", \n    }\n\n    const addBtnStyle = {\n        padding: \"10px 15px\",\n        borderRadius: \"50%\",\n        border: \"none\",\n        boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        fontSize: \"20px\",\n        color: \"rgb(30,56,77)\",\n        backgroundColor: \"white\",\n        fontWeight: \"500\",\n        position: \"relative\",\n        left: \"95%\",\n        marginTop: \"20px\",\n        outline: \"none\"\n        // float: \"right\",\n        // margin: \"20px\"\n    }\n\n    // const addPopupStyle = {\n    //     position: \"absolute\",\n    //     zIndex: \"10\",\n    //     backgroundColor: \"white\",\n    //     padding: \"20px 40px\",\n    //     boxShadow:\n    //     `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    //     left: \"45%\",\n        \n    // }\n\n    const localizer = momentLocalizer(moment);\n\n    function getData() {\n        // console.log('getting sales')\n        router.loadSales().then(data => {\n            if (data) {\n                setData(data)\n            }         \n        })\n    }\n\n\n    useEffect(() => {\n\n            getData()\n\n        \n    }, []);\n\n// const myEventsList = [\n//     props.data.forEach(sale => {\n//         sale.date = new Date(sale.date)\n//     })\n//   {\n//     title: \"Sunrise Sale\",\n//     start: new Date(2020, 10, 27), // 10 is novermber\n//     end: new Date(2020, 11, 1), // doesn't include last day\n//     allDay: true,\n//     description: \"20% off CBD\"\n//     // resource?: any,\n//   },\n//   {}\n// ];\n\nfunction createSale() {\n    // setEvent\n    var startDate = null\n    var endDate = null\n    // console.log(eventStart)\n    // console.log(eventEnd)\n    if (allDay && eventStart != \"\" && eventEnd != \"\") {\n        startDate= eventStart.slice(0,10) + \"T00:00\"\n        endDate = eventEnd.slice(0,10) + \"T23:59\"\n    }\n    // console.log(startDate)\n    // console.log(endDate)\n    const sale = {\n        title: eventTitle,\n        description: eventDescription,\n        start_date: startDate != null ? startDate : eventStart,\n        end_date: endDate != null ? endDate : eventEnd,\n        all_day: allDay,\n        vendor: vendor != \"Choose Vendor:\" ? vendor : null,\n        user_id: props.user.id\n    }\n    // console.log(sale)\n\n    var errorFlag = false\n    Object.values(sale).forEach(value => {\n        if (value === null || value === \"\") {\n            errorFlag = true\n            \n        }\n    })\n\n    if (errorFlag === false) {\n        // Save in DB\n        // console.log(sale)\n        save(sale)\n    } else {\n        // console.log(sale)\n        alert(`Event is incomplete. Please try again`)\n        \n    }\n}\n\nfunction save(sale) {\n    \n    router.saveSale(sale).then(data => {\n        if (data) {\n            if (data === \"Failure\") {\n                alert(\"Failed to create sale. Please try again\")\n            } else if (data === \"Success\") {\n                // console.log(\"Great success\")\n                setAddPopupHidden(true)\n                getData()\n            }\n        }\n    })\n}\n\nfunction handleChange(e) {\n    // console.log(e.target.value)\n    switch(e.target.id) {\n        case \"event_title\":\n            setEventTitle(e.target.value)\n            break;\n        case \"event_description\":\n            setEventDescription(e.target.value)\n            break;\n        case \"event_start\":\n            setEventStart(e.target.value)\n            break\n        case \"event_end\":\n            setEventEnd(e.target.value)\n            break\n        case \"vendor\":\n            setVendor(e.target.value)\n            break\n        default:\n            // console.log('error')\n    //         setEvent(prevState => {\n    //             return {\n    //                 title: e.target.value,\n    //                 description: prevState.description,\n    //                 start: prevState.start,\n    //                 end: prevState.end\n    //             }\n    //         })\n    //         break;\n    // case \n    }\n    // console.log(e.target.id)\n   \n}\n\nfunction showEvent(e) {\n    // console.log(e)\n    setClickedEvent({\n        title: e.title,\n        description: e.description,\n        vendor: e.name,\n        start: e.start.toString(),\n        end: e.end.toString()\n    })\n    setEventPopupHidden(!isEventPopupHidden)\n}\n\n// console.log(data)\n  return (\n\n    <div style={{margin: \"0 auto\", width: \"60%\"}}>\n          <button className=\"circle-btn\" onClick={() => setAddPopupHidden(!isAddPopupHidden)}>+</button>\n       <div className=\"add-popup\" hidden={isAddPopupHidden}>\n       <span className=\"close\" style={{color: \"#1E384D\"}} onClick={() => setAddPopupHidden(!isAddPopupHidden)}>&times;    </span>\n        <h2>Create Event</h2>\n        <input onChange={handleChange} style={inputStyle} value={eventTitle} type=\"text\" id=\"event_title\" placeholder=\"Event Title\" />\n         <textarea onChange={handleChange} style={inputStyle} value={eventDescription} rows=\"5\" id=\"event_description\" placeholder=\"Event Description\" />\n\n         <input onChange={handleChange} style={inputStyle} type=\"datetime-local\" id=\"event_start\" name=\"event_start\" value={eventStart}/>\n\n         <input onChange={handleChange} style={inputStyle} type=\"datetime-local\" id=\"event_end\" name=\"event_end\" value={eventEnd} />\n         \n         <p style={{display: \"inline\"}}>All day?</p><input style={{display: \"inline\"}} onChange={() => setAllDay(!allDay)}type=\"checkbox\"/>\n         <select style={inputStyle} defaultValue=\"Choose Vendor:\" onChange={handleChange} id=\"vendor\">\n             <option value=\"Choose Vendor:\">Choose Vendor:</option>\n             {props.vendorData.map((vendor, id) => {\n                 return (\n                    <option key={id} value={vendor.id}>{vendor.name}</option>\n                 )\n                \n            })}\n        </select>\n         <button className=\"btn-2\" style={{margin: \"0\"}} onClick={createSale}>Create Sale</button>\n        </div>\n        \n    <OutsideAlerter hide={() => setEventPopupHidden(true)}>\n        <div style={addPopupStyle} hidden={isEventPopupHidden}>\n        <span className=\"close\" style={{color: \"#1E384D\"}} onClick={() => setEventPopupHidden(true)}>&times;    </span>\n            \n            <h2><strong>{clickedEvent.title}</strong></h2>\n            <p>{clickedEvent.description}</p>\n            <p><strong>Vendor: </strong>{clickedEvent.vendor}</p>\n            <p><strong>Start: </strong>{clickedEvent.start}</p>\n            <p><strong>End: </strong>{clickedEvent.end}</p>\n        </div>\n    </OutsideAlerter>\n      <Calendar\n        localizer={localizer}\n        events={data}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        style={calendarStyle}\n        // onSelectEvent={}\n        tooltipAccessor=\"title\"\n        onSelectEvent={(e) => showEvent(e)}\n        popup={true}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}