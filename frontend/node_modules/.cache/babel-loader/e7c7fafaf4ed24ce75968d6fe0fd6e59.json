{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Calendar.js\",\n    _s = $RefreshSig$();\n\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport React, { useState, useEffect } from \"react\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport OutsideAlerter from \"../components/OutsideAlerter\";\nimport * as router from \"./vendorAPI\";\nexport default function MyCalendar(props) {\n  _s();\n\n  const [eventTitle, setEventTitle] = useState(\"\");\n  const [eventDescription, setEventDescription] = useState(\"\");\n  const [vendor, setVendor] = useState(\"Choose Vendor:\");\n  const [eventStart, setEventStart] = useState(\"\");\n  const [eventEnd, setEventEnd] = useState(\"\");\n  const [allDay, setAllDay] = useState(false);\n  const [isAddPopupHidden, setAddPopupHidden] = useState(true);\n  const [isEventPopupHidden, setEventPopupHidden] = useState(true);\n  const [clickedEvent, setClickedEvent] = useState({\n    title: \"Default title\",\n    description: \"Default description\",\n    vendor: \"Default vendor\",\n    start: \"Default start\",\n    end: \"Default end\"\n  });\n  const [data, setData] = useState([]);\n  const localizer = momentLocalizer(moment);\n  const inputStyle = {\n    display: \"block\",\n    margin: \"20px 0\",\n    padding: \"5px 10px\",\n    fontSize: \"16px\",\n    fontFamily: \"inherit\"\n  };\n  const calendarStyle = {\n    backgroundColor: \"white\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n    borderRadius: \"5px\",\n    height: 400,\n    margin: \"20px 0\",\n    padding: \"10px\"\n  };\n\n  function getData() {\n    router.loadSales().then(data => {\n      if (data !== \"Error\") {\n        setData(data);\n      } else {\n        alert(\"Error getting sales data. Please try again or contact Step.\");\n      }\n    });\n  }\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function createSale() {\n    var startDate = null;\n    var endDate = null;\n\n    if (allDay && eventStart !== \"\" && eventEnd !== \"\") {\n      startDate = eventStart.slice(0, 10) + \"T00:00\";\n      endDate = eventEnd.slice(0, 10) + \"T23:59\";\n    }\n\n    const sale = {\n      title: eventTitle,\n      description: eventDescription,\n      start_date: startDate !== null ? startDate : eventStart,\n      end_date: endDate !== null ? endDate : eventEnd,\n      all_day: allDay,\n      vendor: vendor !== \"Choose Vendor:\" ? vendor : null,\n      user_id: props.user.id\n    };\n    var errorFlag = false;\n    Object.values(sale).forEach(value => {\n      if (value === null || value === \"\") {\n        errorFlag = true;\n      }\n    });\n\n    if (errorFlag === false) {\n      // Save in DB\n      save(sale);\n    } else {\n      alert(`Sale is incomplete. Please try again`);\n    }\n  }\n\n  function save(sale) {\n    router.saveSale(sale).then(data => {\n      if (data) {\n        if (data === \"Failure\") {\n          alert(\"Failed to create sale. Please try again\");\n        } else if (data === \"Success\") {\n          setAddPopupHidden(true);\n          getData();\n        }\n      }\n    });\n  }\n\n  function handleChange(e) {\n    switch (e.target.id) {\n      case \"event_title\":\n        setEventTitle(e.target.value);\n        break;\n\n      case \"event_description\":\n        setEventDescription(e.target.value);\n        break;\n\n      case \"event_start\":\n        setEventStart(e.target.value);\n        break;\n\n      case \"event_end\":\n        setEventEnd(e.target.value);\n        break;\n\n      case \"vendor\":\n        setVendor(e.target.value);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  function showEvent(e) {\n    setClickedEvent({\n      title: e.title,\n      description: e.description,\n      vendor: e.name,\n      start: e.start.toString(),\n      end: e.end.toString()\n    });\n    setEventPopupHidden(!isEventPopupHidden);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"0 auto\",\n      width: \"60%\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"circle-btn\",\n      onClick: () => setAddPopupHidden(!isAddPopupHidden),\n      children: \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-popup\",\n      hidden: isAddPopupHidden,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        style: {\n          color: \"#1E384D\"\n        },\n        onClick: () => setAddPopupHidden(!isAddPopupHidden),\n        children: \"\\xD7    \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        value: eventTitle,\n        type: \"text\",\n        id: \"event_title\",\n        placeholder: \"Event Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: handleChange,\n        style: inputStyle,\n        value: eventDescription,\n        rows: \"5\",\n        id: \"event_description\",\n        placeholder: \"Event Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        type: \"datetime-local\",\n        id: \"event_start\",\n        name: \"event_start\",\n        value: eventStart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: handleChange,\n        style: inputStyle,\n        type: \"datetime-local\",\n        id: \"event_end\",\n        name: \"event_end\",\n        value: eventEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: \"inline\"\n        },\n        children: \"All day?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          display: \"inline\"\n        },\n        onChange: () => setAllDay(!allDay),\n        type: \"checkbox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 56\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        style: inputStyle,\n        defaultValue: \"Choose Vendor:\",\n        onChange: handleChange,\n        id: \"vendor\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Choose Vendor:\",\n          children: \"Choose Vendor:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }, this), props.vendorData.map((vendor, id) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: vendor.id,\n            children: vendor.name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 21\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-2\",\n        style: {\n          margin: \"0\"\n        },\n        onClick: createSale,\n        children: \"Create Sale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(OutsideAlerter, {\n      hide: () => setEventPopupHidden(true),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-popup\",\n        hidden: isEventPopupHidden,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          style: {\n            color: \"#1E384D\"\n          },\n          onClick: () => setEventPopupHidden(true),\n          children: \"\\xD7    \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: clickedEvent.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: clickedEvent.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Vendor: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 20\n          }, this), clickedEvent.vendor]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Start: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 20\n          }, this), clickedEvent.start]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"End: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 20\n          }, this), clickedEvent.end]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n      localizer: localizer,\n      events: data,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      style: calendarStyle,\n      tooltipAccessor: \"title\",\n      onSelectEvent: e => showEvent(e),\n      popup: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyCalendar, \"+sNd+LYJy/jglWh3xQGSfHYxLZE=\");\n\n_c = MyCalendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyCalendar\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Vendors/Calendar.js"],"names":["Calendar","momentLocalizer","moment","React","useState","useEffect","OutsideAlerter","router","MyCalendar","props","eventTitle","setEventTitle","eventDescription","setEventDescription","vendor","setVendor","eventStart","setEventStart","eventEnd","setEventEnd","allDay","setAllDay","isAddPopupHidden","setAddPopupHidden","isEventPopupHidden","setEventPopupHidden","clickedEvent","setClickedEvent","title","description","start","end","data","setData","localizer","inputStyle","display","margin","padding","fontSize","fontFamily","calendarStyle","backgroundColor","boxShadow","borderRadius","height","getData","loadSales","then","alert","createSale","startDate","endDate","slice","sale","start_date","end_date","all_day","user_id","user","id","errorFlag","Object","values","forEach","value","save","saveSale","handleChange","e","target","showEvent","name","toString","width","color","vendorData","map"],"mappings":";;;;;AAAA,SAASA,QAAT,EAAmBC,eAAnB,QAA0C,oBAA1C;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAO,mDAAP;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAO,KAAKC,MAAZ,MAAwB,aAAxB;AAEA,eAAe,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AAAA;;AAEtC,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACQ,gBAAD,EAAmBC,mBAAnB,IAA0CT,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,gBAAD,CAApC;AACA,QAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACgB,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACkB,gBAAD,EAAmBC,iBAAnB,IAAwCnB,QAAQ,CAAC,IAAD,CAAtD;AACA,QAAM,CAACoB,kBAAD,EAAqBC,mBAArB,IAA4CrB,QAAQ,CAAC,IAAD,CAA1D;AACA,QAAM,CAACsB,YAAD,EAAeC,eAAf,IAAkCvB,QAAQ,CAAC;AAC7CwB,IAAAA,KAAK,EAAE,eADsC;AAE7CC,IAAAA,WAAW,EAAE,qBAFgC;AAG7Cf,IAAAA,MAAM,EAAE,gBAHqC;AAI7CgB,IAAAA,KAAK,EAAE,eAJsC;AAK7CC,IAAAA,GAAG,EAAE;AALwC,GAAD,CAAhD;AAOA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB7B,QAAQ,CAAC,EAAD,CAAhC;AAEA,QAAM8B,SAAS,GAAGjC,eAAe,CAACC,MAAD,CAAjC;AAEA,QAAMiC,UAAU,GAAG;AACfC,IAAAA,OAAO,EAAE,OADM;AAEfC,IAAAA,MAAM,EAAE,QAFO;AAGfC,IAAAA,OAAO,EAAE,UAHM;AAIfC,IAAAA,QAAQ,EAAE,MAJK;AAKfC,IAAAA,UAAU,EAAE;AALG,GAAnB;AAQA,QAAMC,aAAa,GAAG;AAClBC,IAAAA,eAAe,EAAE,OADC;AAElBC,IAAAA,SAAS,EACR,4DAHiB;AAIlBC,IAAAA,YAAY,EAAE,KAJI;AAKlBC,IAAAA,MAAM,EAAE,GALU;AAMlBR,IAAAA,MAAM,EAAE,QANU;AAOlBC,IAAAA,OAAO,EAAE;AAPS,GAAtB;;AAUA,WAASQ,OAAT,GAAmB;AACfvC,IAAAA,MAAM,CAACwC,SAAP,GAAmBC,IAAnB,CAAwBhB,IAAI,IAAI;AAC5B,UAAIA,IAAI,KAAK,OAAb,EAAsB;AAClBC,QAAAA,OAAO,CAACD,IAAD,CAAP;AACH,OAFD,MAEO;AACHiB,QAAAA,KAAK,CAAC,6DAAD,CAAL;AACH;AACJ,KAND;AAOH;;AAED5C,EAAAA,SAAS,CAAC,MAAM;AACZyC,IAAAA,OAAO,GADK,CAEZ;AACH,GAHQ,EAGN,EAHM,CAAT;;AAKA,WAASI,UAAT,GAAsB;AAElB,QAAIC,SAAS,GAAG,IAAhB;AACA,QAAIC,OAAO,GAAG,IAAd;;AAEA,QAAIhC,MAAM,IAAIJ,UAAU,KAAK,EAAzB,IAA+BE,QAAQ,KAAK,EAAhD,EAAoD;AAChDiC,MAAAA,SAAS,GAAEnC,UAAU,CAACqC,KAAX,CAAiB,CAAjB,EAAmB,EAAnB,IAAyB,QAApC;AACAD,MAAAA,OAAO,GAAGlC,QAAQ,CAACmC,KAAT,CAAe,CAAf,EAAiB,EAAjB,IAAuB,QAAjC;AACH;;AAED,UAAMC,IAAI,GAAG;AACT1B,MAAAA,KAAK,EAAElB,UADE;AAETmB,MAAAA,WAAW,EAAEjB,gBAFJ;AAGT2C,MAAAA,UAAU,EAAEJ,SAAS,KAAK,IAAd,GAAqBA,SAArB,GAAiCnC,UAHpC;AAITwC,MAAAA,QAAQ,EAAEJ,OAAO,KAAK,IAAZ,GAAmBA,OAAnB,GAA6BlC,QAJ9B;AAKTuC,MAAAA,OAAO,EAAErC,MALA;AAMTN,MAAAA,MAAM,EAAEA,MAAM,KAAK,gBAAX,GAA8BA,MAA9B,GAAuC,IANtC;AAOT4C,MAAAA,OAAO,EAAEjD,KAAK,CAACkD,IAAN,CAAWC;AAPX,KAAb;AAUA,QAAIC,SAAS,GAAG,KAAhB;AACAC,IAAAA,MAAM,CAACC,MAAP,CAAcT,IAAd,EAAoBU,OAApB,CAA4BC,KAAK,IAAI;AACjC,UAAIA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,EAAhC,EAAoC;AAChCJ,QAAAA,SAAS,GAAG,IAAZ;AAEH;AACJ,KALD;;AAOA,QAAIA,SAAS,KAAK,KAAlB,EAAyB;AACrB;AACAK,MAAAA,IAAI,CAACZ,IAAD,CAAJ;AACH,KAHD,MAGO;AACHL,MAAAA,KAAK,CAAE,sCAAF,CAAL;AAEH;AACJ;;AAED,WAASiB,IAAT,CAAcZ,IAAd,EAAoB;AAChB/C,IAAAA,MAAM,CAAC4D,QAAP,CAAgBb,IAAhB,EAAsBN,IAAtB,CAA2BhB,IAAI,IAAI;AAC/B,UAAIA,IAAJ,EAAU;AACN,YAAIA,IAAI,KAAK,SAAb,EAAwB;AACpBiB,UAAAA,KAAK,CAAC,yCAAD,CAAL;AACH,SAFD,MAEO,IAAIjB,IAAI,KAAK,SAAb,EAAwB;AAC3BT,UAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAuB,UAAAA,OAAO;AACV;AACJ;AACJ,KATD;AAUH;;AAED,WAASsB,YAAT,CAAsBC,CAAtB,EAAyB;AACrB,YAAOA,CAAC,CAACC,MAAF,CAASV,EAAhB;AACI,WAAK,aAAL;AACIjD,QAAAA,aAAa,CAAC0D,CAAC,CAACC,MAAF,CAASL,KAAV,CAAb;AACA;;AACJ,WAAK,mBAAL;AACIpD,QAAAA,mBAAmB,CAACwD,CAAC,CAACC,MAAF,CAASL,KAAV,CAAnB;AACA;;AACJ,WAAK,aAAL;AACIhD,QAAAA,aAAa,CAACoD,CAAC,CAACC,MAAF,CAASL,KAAV,CAAb;AACA;;AACJ,WAAK,WAAL;AACI9C,QAAAA,WAAW,CAACkD,CAAC,CAACC,MAAF,CAASL,KAAV,CAAX;AACA;;AACJ,WAAK,QAAL;AACIlD,QAAAA,SAAS,CAACsD,CAAC,CAACC,MAAF,CAASL,KAAV,CAAT;AACA;;AACJ;AACI;AAjBR;AAmBH;;AAED,WAASM,SAAT,CAAmBF,CAAnB,EAAsB;AAClB1C,IAAAA,eAAe,CAAC;AACZC,MAAAA,KAAK,EAAEyC,CAAC,CAACzC,KADG;AAEZC,MAAAA,WAAW,EAAEwC,CAAC,CAACxC,WAFH;AAGZf,MAAAA,MAAM,EAAEuD,CAAC,CAACG,IAHE;AAIZ1C,MAAAA,KAAK,EAAEuC,CAAC,CAACvC,KAAF,CAAQ2C,QAAR,EAJK;AAKZ1C,MAAAA,GAAG,EAAEsC,CAAC,CAACtC,GAAF,CAAM0C,QAAN;AALO,KAAD,CAAf;AAOAhD,IAAAA,mBAAmB,CAAC,CAACD,kBAAF,CAAnB;AACH;;AAEH,sBACE;AAAK,IAAA,KAAK,EAAE;AAACa,MAAAA,MAAM,EAAE,QAAT;AAAmBqC,MAAAA,KAAK,EAAE;AAA1B,KAAZ;AAAA,4BACI;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAA+B,MAAA,OAAO,EAAE,MAAMnD,iBAAiB,CAAC,CAACD,gBAAF,CAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,MAAM,EAAEA,gBAAnC;AAAA,8BACI;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAwB,QAAA,KAAK,EAAE;AAACqD,UAAAA,KAAK,EAAE;AAAR,SAA/B;AAAmD,QAAA,OAAO,EAAE,MAAMpD,iBAAiB,CAAC,CAACD,gBAAF,CAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAO,QAAA,QAAQ,EAAE8C,YAAjB;AAA+B,QAAA,KAAK,EAAEjC,UAAtC;AAAkD,QAAA,KAAK,EAAEzB,UAAzD;AAAqE,QAAA,IAAI,EAAC,MAA1E;AAAiF,QAAA,EAAE,EAAC,aAApF;AAAkG,QAAA,WAAW,EAAC;AAA9G;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAU,QAAA,QAAQ,EAAE0D,YAApB;AAAkC,QAAA,KAAK,EAAEjC,UAAzC;AAAqD,QAAA,KAAK,EAAEvB,gBAA5D;AAA8E,QAAA,IAAI,EAAC,GAAnF;AAAuF,QAAA,EAAE,EAAC,mBAA1F;AAA8G,QAAA,WAAW,EAAC;AAA1H;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAO,QAAA,QAAQ,EAAEwD,YAAjB;AAA+B,QAAA,KAAK,EAAEjC,UAAtC;AAAkD,QAAA,IAAI,EAAC,gBAAvD;AAAwE,QAAA,EAAE,EAAC,aAA3E;AAAyF,QAAA,IAAI,EAAC,aAA9F;AAA4G,QAAA,KAAK,EAAEnB;AAAnH;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAO,QAAA,QAAQ,EAAEoD,YAAjB;AAA+B,QAAA,KAAK,EAAEjC,UAAtC;AAAkD,QAAA,IAAI,EAAC,gBAAvD;AAAwE,QAAA,EAAE,EAAC,WAA3E;AAAuF,QAAA,IAAI,EAAC,WAA5F;AAAwG,QAAA,KAAK,EAAEjB;AAA/G;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAG,QAAA,KAAK,EAAE;AAACkB,UAAAA,OAAO,EAAE;AAAV,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAO+C;AAAO,QAAA,KAAK,EAAE;AAACA,UAAAA,OAAO,EAAE;AAAV,SAAd;AAAmC,QAAA,QAAQ,EAAE,MAAMf,SAAS,CAAC,CAACD,MAAF,CAA5D;AAAsE,QAAA,IAAI,EAAC;AAA3E;AAAA;AAAA;AAAA;AAAA,cAP/C,eAQI;AAAQ,QAAA,KAAK,EAAEe,UAAf;AAA2B,QAAA,YAAY,EAAC,gBAAxC;AAAyD,QAAA,QAAQ,EAAEiC,YAAnE;AAAiF,QAAA,EAAE,EAAC,QAApF;AAAA,gCACI;AAAQ,UAAA,KAAK,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEK3D,KAAK,CAACmE,UAAN,CAAiBC,GAAjB,CAAqB,CAAC/D,MAAD,EAAS8C,EAAT,KAAgB;AAClC,8BACA;AAAiB,YAAA,KAAK,EAAE9C,MAAM,CAAC8C,EAA/B;AAAA,sBAAoC9C,MAAM,CAAC0D;AAA3C,aAAaZ,EAAb;AAAA;AAAA;AAAA;AAAA,kBADA;AAGH,SAJA,CAFL;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eAgBI;AAAQ,QAAA,SAAS,EAAC,OAAlB;AAA0B,QAAA,KAAK,EAAE;AAACvB,UAAAA,MAAM,EAAE;AAAT,SAAjC;AAAgD,QAAA,OAAO,EAAEa,UAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAoBI,QAAC,cAAD;AAAgB,MAAA,IAAI,EAAE,MAAMzB,mBAAmB,CAAC,IAAD,CAA/C;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,MAAM,EAAED,kBAAnC;AAAA,gCACA;AAAM,UAAA,SAAS,EAAC,OAAhB;AAAwB,UAAA,KAAK,EAAE;AAACmD,YAAAA,KAAK,EAAE;AAAR,WAA/B;AAAmD,UAAA,OAAO,EAAE,MAAMlD,mBAAmB,CAAC,IAAD,CAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAGI;AAAA,iCAAI;AAAA,sBAASC,YAAY,CAACE;AAAtB;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAA,oBAAIF,YAAY,CAACG;AAAjB;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAKI;AAAA,kCAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAH,EAA6BH,YAAY,CAACZ,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,eAMI;AAAA,kCAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAH,EAA4BY,YAAY,CAACI,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,eAOI;AAAA,kCAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAH,EAA0BJ,YAAY,CAACK,GAAvC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YApBJ,eA+BI,QAAC,QAAD;AACI,MAAA,SAAS,EAAEG,SADf;AAEI,MAAA,MAAM,EAAEF,IAFZ;AAGI,MAAA,aAAa,EAAC,OAHlB;AAII,MAAA,WAAW,EAAC,KAJhB;AAKI,MAAA,KAAK,EAAES,aALX;AAMI,MAAA,eAAe,EAAC,OANpB;AAOI,MAAA,aAAa,EAAG4B,CAAD,IAAOE,SAAS,CAACF,CAAD,CAPnC;AAQI,MAAA,KAAK,EAAE;AARX;AAAA;AAAA;AAAA;AAAA,YA/BJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4CD;;GArLuB7D,U;;KAAAA,U","sourcesContent":["import { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport React, {useState, useEffect} from \"react\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport OutsideAlerter from \"../components/OutsideAlerter\"\nimport * as router from \"./vendorAPI\"\n\nexport default function MyCalendar(props) {\n\n    const [eventTitle, setEventTitle] = useState(\"\")\n    const [eventDescription, setEventDescription] = useState(\"\")\n    const [vendor, setVendor] = useState(\"Choose Vendor:\")\n    const [eventStart, setEventStart] = useState(\"\")\n    const [eventEnd, setEventEnd] = useState(\"\")\n    const [allDay, setAllDay] = useState(false)\n    const [isAddPopupHidden, setAddPopupHidden] = useState(true)\n    const [isEventPopupHidden, setEventPopupHidden] = useState(true)\n    const [clickedEvent, setClickedEvent] = useState({\n        title: \"Default title\",\n        description: \"Default description\",\n        vendor: \"Default vendor\",\n        start: \"Default start\",\n        end: \"Default end\"\n    })\n    const [data, setData] = useState([])\n\n    const localizer = momentLocalizer(moment);\n\n    const inputStyle = {\n        display: \"block\",\n        margin: \"20px 0\",\n        padding: \"5px 10px\",\n        fontSize: \"16px\",\n        fontFamily: \"inherit\"\n    }\n\n    const calendarStyle = {\n        backgroundColor: \"white\",\n        boxShadow:\n        `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n        borderRadius: \"5px\",\n        height: 400,\n        margin: \"20px 0\", \n        padding: \"10px\", \n    }\n\n    function getData() {\n        router.loadSales().then(data => {\n            if (data !== \"Error\") {\n                setData(data)\n            } else {\n                alert(\"Error getting sales data. Please try again or contact Step.\")\n            }\n        })\n    }\n\n    useEffect(() => {\n        getData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    function createSale() {\n\n        var startDate = null\n        var endDate = null\n\n        if (allDay && eventStart !== \"\" && eventEnd !== \"\") {\n            startDate= eventStart.slice(0,10) + \"T00:00\"\n            endDate = eventEnd.slice(0,10) + \"T23:59\"\n        }\n\n        const sale = {\n            title: eventTitle,\n            description: eventDescription,\n            start_date: startDate !== null ? startDate : eventStart,\n            end_date: endDate !== null ? endDate : eventEnd,\n            all_day: allDay,\n            vendor: vendor !== \"Choose Vendor:\" ? vendor : null,\n            user_id: props.user.id\n        }\n\n        var errorFlag = false\n        Object.values(sale).forEach(value => {\n            if (value === null || value === \"\") {\n                errorFlag = true\n                \n            }\n        })\n\n        if (errorFlag === false) {\n            // Save in DB\n            save(sale)\n        } else {\n            alert(`Sale is incomplete. Please try again`)\n            \n        }\n    }\n\n    function save(sale) {\n        router.saveSale(sale).then(data => {\n            if (data) {\n                if (data === \"Failure\") {\n                    alert(\"Failed to create sale. Please try again\")\n                } else if (data === \"Success\") {\n                    setAddPopupHidden(true)\n                    getData()\n                }\n            }\n        })\n    }\n\n    function handleChange(e) {\n        switch(e.target.id) {\n            case \"event_title\":\n                setEventTitle(e.target.value)\n                break;\n            case \"event_description\":\n                setEventDescription(e.target.value)\n                break;\n            case \"event_start\":\n                setEventStart(e.target.value)\n                break\n            case \"event_end\":\n                setEventEnd(e.target.value)\n                break\n            case \"vendor\":\n                setVendor(e.target.value)\n                break\n            default:\n                break\n        }\n    }\n\n    function showEvent(e) {\n        setClickedEvent({\n            title: e.title,\n            description: e.description,\n            vendor: e.name,\n            start: e.start.toString(),\n            end: e.end.toString()\n        })\n        setEventPopupHidden(!isEventPopupHidden)\n    }\n\n  return (\n    <div style={{margin: \"0 auto\", width: \"60%\"}}>\n        <button className=\"circle-btn\" onClick={() => setAddPopupHidden(!isAddPopupHidden)}>+</button>\n        <div className=\"add-popup\" hidden={isAddPopupHidden}>\n            <span className=\"close\" style={{color: \"#1E384D\"}} onClick={() => setAddPopupHidden(!isAddPopupHidden)}>&times;    </span>\n            <h2>Create Event</h2>\n            <input onChange={handleChange} style={inputStyle} value={eventTitle} type=\"text\" id=\"event_title\" placeholder=\"Event Title\" />\n            <textarea onChange={handleChange} style={inputStyle} value={eventDescription} rows=\"5\" id=\"event_description\" placeholder=\"Event Description\" />\n            <input onChange={handleChange} style={inputStyle} type=\"datetime-local\" id=\"event_start\" name=\"event_start\" value={eventStart}/>\n            <input onChange={handleChange} style={inputStyle} type=\"datetime-local\" id=\"event_end\" name=\"event_end\" value={eventEnd} />\n            <p style={{display: \"inline\"}}>All day?</p><input style={{display: \"inline\"}} onChange={() => setAllDay(!allDay)}type=\"checkbox\"/>\n            <select style={inputStyle} defaultValue=\"Choose Vendor:\" onChange={handleChange} id=\"vendor\">\n                <option value=\"Choose Vendor:\">Choose Vendor:</option>\n                {props.vendorData.map((vendor, id) => {\n                    return (\n                    <option key={id} value={vendor.id}>{vendor.name}</option>\n                    )\n                })}\n            </select>\n            <button className=\"btn-2\" style={{margin: \"0\"}} onClick={createSale}>Create Sale</button>\n        </div> \n        <OutsideAlerter hide={() => setEventPopupHidden(true)}>\n            <div className=\"add-popup\" hidden={isEventPopupHidden}>\n            <span className=\"close\" style={{color: \"#1E384D\"}} onClick={() => setEventPopupHidden(true)}>&times;    </span>\n                \n                <h2><strong>{clickedEvent.title}</strong></h2>\n                <p>{clickedEvent.description}</p>\n                <p><strong>Vendor: </strong>{clickedEvent.vendor}</p>\n                <p><strong>Start: </strong>{clickedEvent.start}</p>\n                <p><strong>End: </strong>{clickedEvent.end}</p>\n            </div>\n        </OutsideAlerter>\n        <Calendar\n            localizer={localizer}\n            events={data}\n            startAccessor=\"start\"\n            endAccessor=\"end\"\n            style={calendarStyle}\n            tooltipAccessor=\"title\"\n            onSelectEvent={(e) => showEvent(e)}\n            popup={true}\n        />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}