{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/burm-inventory/frontend/src/Orders/Order.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Table from \"../components/Table\";\nimport Layout from \"../components/Layout\";\nimport DownloadBtn from \"../components/DownloadBtn\";\nimport ArrowIcon from \"../images/arrow.png\";\nimport { useHistory } from \"react-router-dom\";\nimport * as router from \"./orderAPI\";\nexport default function Order(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  const history = useHistory(); // Below 2 styles are from Order.js as well (and maybe another)\n\n  const innerStyle = {\n    backgroundColor: \"white\",\n    width: \"80%\",\n    borderRadius: \"5px\",\n    margin: \"20px auto\",\n    padding: \"1% 3%\",\n    boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`\n  };\n  const outerStyle = {\n    gridArea: \"main\",\n    backgroundColor: \"rgb(246,246,247)\"\n  };\n  const columns = React.useMemo(() => [{\n    Header: 'Vendor',\n    accessor: 'name',\n    sortDescFirst: true\n  }, {\n    Header: 'ID',\n    accessor: 'id'\n  }, {\n    Header: 'Total',\n    accessor: 'total',\n    sortType: sortMoney\n  }, {\n    Header: 'Subtotal',\n    accessor: 'subtotal',\n    show: false\n  }, {\n    Header: 'Discount',\n    accessor: 'discount',\n    show: false\n  }, {\n    Header: 'Status',\n    accessor: 'status',\n    sortDescFirst: true\n  }, {\n    Header: 'Submitted',\n    accessor: 'submitted_date',\n    sortDescFirst: true\n  }, {\n    Header: 'Fulfilled',\n    accessor: 'fulfilled_date',\n    sortDescFirst: true\n  }, {\n    Header: 'Completed',\n    accessor: 'completed_date',\n    sortDescFirst: true\n  }], []);\n\n  function sortMoney(rowA, rowB) {\n    console.log(rowA.values);\n    console.log(rowB.values);\n    var aValues = \"$0\";\n    var bValues = \"$0\";\n\n    if (rowA.values.total) {\n      aValues = rowA.values.total;\n    }\n\n    if (rowB.values.total) {\n      bValues = rowB.values.total;\n    } // if (rowA.values.total && !rowB.values.total) {\n    //   console.log('sd')\n    //   return 1\n    // } else if (!rowA.values.total && rowB.values.total) {\n    //   console.log('sda')\n    //   return -1\n    // } else if (!rowA.values.total && !rowB.values.total) {\n    //   console.log('sdb')\n    //   return 1\n    //   if (Number(aValues.replace(/(^\\$|,)/g,'')) > Number(bValues.total.replace(/(^\\$|,)/g,''))) {\n    //     console.log('ccc')\n    //     return 1\n    // } else {\n    //     return -1\n    // }\n\n\n    try {\n      return Number(aValues.replace(/(^\\$|,)/g, '')) > Number(bValues.total.replace(/(^\\$|,)/g, '')) ? 1 : -1;\n    } catch {\n      console.log(aValues);\n      console.log('bigErr');\n    }\n  }\n\n  function getOrders() {\n    setLoading(true);\n    router.loadOrders().then(data => {\n      if (data) {\n        console.log(data);\n        setData(data);\n      }\n\n      setLoading(false);\n    });\n  }\n\n  useEffect(() => {\n    getOrders();\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    user: props.user,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: outerStyle,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: innerStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"circle-btn\",\n          style: {\n            position: \"relative\",\n            left: \"0px\"\n          },\n          onClick: () => history.goBack(),\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: ArrowIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 121\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(DownloadBtn, {\n          data: data,\n          type: \"orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          reloadData: () => getOrders(),\n          initialSearch: \"\",\n          columns: columns,\n          type: \"all-orders\",\n          data: data,\n          search: true,\n          popupEnabled: true,\n          perPage: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Order, \"rOlf2XtPW2VaVciQ/FJV1g+22bA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/burm-inventory/frontend/src/Orders/Order.js"],"names":["React","useState","useEffect","Table","Layout","DownloadBtn","ArrowIcon","useHistory","router","Order","props","data","setData","isLoading","setLoading","history","innerStyle","backgroundColor","width","borderRadius","margin","padding","boxShadow","outerStyle","gridArea","columns","useMemo","Header","accessor","sortDescFirst","sortType","sortMoney","show","rowA","rowB","console","log","values","aValues","bValues","total","Number","replace","getOrders","loadOrders","then","user","position","left","goBack"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport Table from \"../components/Table\"\nimport Layout from \"../components/Layout\"\nimport DownloadBtn from \"../components/DownloadBtn\"\nimport ArrowIcon from \"../images/arrow.png\"\nimport {useHistory} from \"react-router-dom\"\nimport * as router from \"./orderAPI\";\n\nexport default function Order(props) {\n  \n    const [data, setData] = useState([])\n    const [isLoading, setLoading] = useState(true);\n\n    const history = useHistory()\n\n    // Below 2 styles are from Order.js as well (and maybe another)\n\n    const innerStyle = {\n        backgroundColor: \"white\",\n        width: \"80%\", \n        borderRadius: \"5px\",\n        margin: \"20px auto\",\n        padding: \"1% 3%\",\n        boxShadow: `0 1px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(10, 0, 0, 0.1)`,\n      }\n\n      const outerStyle = {\n        gridArea: \"main\", \n      \n        backgroundColor: \"rgb(246,246,247)\"\n      }\n\n\n\n    const columns = React.useMemo(\n        () => [\n          {\n            Header: 'Vendor',\n            accessor: 'name',\n            sortDescFirst: true\n          },\n          {\n            Header: 'ID',\n            accessor: 'id',\n          },\n      \n          {\n            Header: 'Total',\n            accessor: 'total',\n            sortType: sortMoney\n          },\n          {\n            Header: 'Subtotal',\n            accessor: 'subtotal',\n            show: false\n          },\n          {\n            Header: 'Discount',\n            accessor: 'discount',\n            show: false\n          },\n          {\n            Header: 'Status',\n            accessor: 'status',\n            sortDescFirst: true\n          },\n\n          {\n            Header: 'Submitted',\n            accessor: 'submitted_date',\n            sortDescFirst: true\n          },\n          {\n            Header: 'Fulfilled',\n            accessor: 'fulfilled_date',\n            sortDescFirst: true\n          },\n          {\n            Header: 'Completed',\n            accessor: 'completed_date',\n            sortDescFirst: true\n          },\n         \n        ],\n        []\n      )\n\n\n    function sortMoney(rowA, rowB) {\n      console.log(rowA.values)\n      console.log(rowB.values)\n\n      var aValues = \"$0\"\n      var bValues = \"$0\"\n      if (rowA.values.total) {\n        aValues = rowA.values.total\n      }\n      if (rowB.values.total) {\n        bValues = rowB.values.total\n      }\n     \n      // if (rowA.values.total && !rowB.values.total) {\n      //   console.log('sd')\n      //   return 1\n      // } else if (!rowA.values.total && rowB.values.total) {\n      //   console.log('sda')\n      //   return -1\n      // } else if (!rowA.values.total && !rowB.values.total) {\n      //   console.log('sdb')\n      //   return 1\n\n      //   if (Number(aValues.replace(/(^\\$|,)/g,'')) > Number(bValues.total.replace(/(^\\$|,)/g,''))) {\n      //     console.log('ccc')\n      //     return 1\n      // } else {\n      //     return -1\n      // }\n\n      try {\n        return Number(aValues.replace(/(^\\$|,)/g,'')) > Number(bValues.total.replace(/(^\\$|,)/g,'')) ? 1 : -1\n      } catch {\n        console.log(aValues)\n        console.log('bigErr')\n      }\n\n\n  \n      \n    \n\n      \n  }\n\n    function getOrders() {\n      setLoading(true)\n      router.loadOrders().then(data => {\n        if (data) {\n          console.log(data)\n          setData(data)\n        }    \n        setLoading(false)   \n      }) \n      }\n    \n\n      useEffect(() => {\n        getOrders()\n      }, []);\n\n      if (isLoading) {\n        return <div className=\"loader\"></div>;\n      }\n    \n\n    return (\n        <Layout user={props.user}>\n            <div style={outerStyle}>\n            \n            <div style={innerStyle}>\n            <button className=\"circle-btn\" style={{position: \"relative\", left: \"0px\"}} onClick={() => history.goBack()}><img src={ArrowIcon} /></button>\n                  <h1>Orders</h1>\n                  <DownloadBtn data={data} type=\"orders\"/>\n                  {/* <Table reloadData={() => getProducts('reload')} columns={columns} data={products} search={true} popupEnabled={true} perPage={10}/> */}\n                  <Table reloadData={() => getOrders()} initialSearch=\"\" columns={columns} type=\"all-orders\" data={data} search={true} popupEnabled={true} perPage={10}/>\n            </div>\n            </div>\n        </Layout>\n\n        \n    )\n\n}"]},"metadata":{},"sourceType":"module"}