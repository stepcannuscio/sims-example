{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Orders/OrderPopup.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport * as router from \"./orderAPI\";\nexport default function OrderPopup(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [originalData, setOriginalData] = useState([]); // const [ogData, setOGData] = useState([])\n\n  const [isLoading, setLoading] = useState(false);\n  const [orderBtnText, setOrderBtnText] = useState(\"Edit Order\");\n  const [orderItemBtnText, setOrderItemBtnText] = useState(\"Edit Order Item\");\n  const [isEditingOrder, setEditingOrder] = useState(false);\n  const [isEditingOrderItem, setEditingOrderItem] = useState(false);\n  const [editColor, setEditColor] = useState(\"#76c32d\");\n  const [isTrackingHidden, setTrackingHidden] = useState(true);\n  const [idsToUpdate, setIdsToUpdate] = useState([]);\n  const [dataToUpdate, setDataToUpdate] = useState([]);\n  const [itemsToDelete, setItemsToDelete] = useState([]); // const [status, setStatus] = useState(\"\")\n  // const [tracking, setTracking] = useState(\"\")\n  // const [orderDiscount, setOrderDiscount] = useState(\"\")\n  // const [orderTotal, setOrderTotal] = useState(\"\")\n  // const [orderSubtotal, setOrderSubtotal] = useState(0)\n\n  const orderSubtotal = useRef();\n  const orderDiscount = useRef();\n  const orderTotal = useRef();\n  const tracking = useRef();\n  const status = useRef();\n  console.log(dataToUpdate);\n  console.log(idsToUpdate); // console.log(isTrackingHidden)\n  // console.log(status)\n\n  const formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0\n  });\n  const inputStyle = {\n    margin: \"20px auto\",\n    padding: \"10px 20px\",\n    fontSize: \"16px\",\n    border: \"none\",\n    borderBottom: \"1px solid #76c32d\"\n  };\n\n  function getData() {\n    setLoading(true);\n    router.loadOrder(props.values.id).then(data => {\n      if (data) {\n        console.log(data);\n        setData(data); // const newData = data.slice()\n\n        const newData = data.map(a => ({ ...a\n        })); // make copy to compare dataToUpdate with to look for changes\n\n        console.log(newData);\n        setOriginalData(newData);\n        setLoading(false);\n      }\n    });\n  }\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 16\n    }, this);\n  }\n\n  function editBtnClicked(e) {\n    if (e.target.id === \"order-btn\") {\n      if (!isEditingOrder) {\n        setOrderBtnText(\"Save Order\");\n        setEditingOrder(true);\n      } else {\n        saveOrder();\n      }\n    } else if (e.target.id === \"order-item-btn\") {\n      if (!isEditingOrderItem) {\n        setOrderItemBtnText(\"Save Order Item\");\n        setEditingOrderItem(true);\n      } else {\n        saveOrderItem();\n      }\n    }\n\n    setEditColor(editColor === \"#26B1FF\" ? \"#76c32d\" : \"#26B1FF\");\n  }\n\n  function saveOrder() {\n    const orderData = {\n      subtotal: orderSubtotal.current.value ? orderSubtotal.current.value : data[0].order_subtotal,\n      discount: orderDiscount.current.value ? orderDiscount.current.value : data[0].order_discount,\n      // total: orderTotal.current.value ? orderTotal.current.value : data[0].order_total,\n      status: status.current.value ? status.current.value : data[0].status,\n      tracking: tracking.current.value ? tracking.current.value : data[0].tracking\n    };\n    const discountsToUpdate = [];\n    data.forEach(item => {\n      if (item.discount === \"0\" || item.discount === 0 || item.discount === \"\") {\n        discountsToUpdate.push(item);\n      }\n    });\n    const isItemDiscount = data ? true : false;\n    router.updateOrder(orderData, props.values.id, data, discountsToUpdate).then(data => {\n      if (data === \"Success\") {\n        setEditingOrder(false);\n        setOrderBtnText(\"Edit Order\");\n        getData(); // reload order item data if the status is completed b/c then would have updated the discount and cost of the items\n        // setTrackingHidden(true)\n      } else {\n        alert(\"Failed to save order. Please try again.\");\n        setOrderBtnText(\"Edit Order\");\n      }\n    });\n  }\n\n  function saveOrderItem() {\n    console.log('Saving order item'); // make sure to only pass in data with changes\n\n    const updatedData = [];\n    console.log(data);\n    console.log(originalData);\n    console.log(dataToUpdate);\n    dataToUpdate.forEach(newItem => {\n      originalData.forEach(ogItem => {\n        if (ogItem.order_item_id === newItem.order_item_id) {\n          console.log(ogItem);\n          console.log(newItem); // Same item\n\n          if (newItem.quantity !== ogItem.quantity && newItem.quantity || newItem.cost !== ogItem.cost && newItem.cost || // (newItem.subtotal !== ogItem.subtotal) && newItem.subtotal || \n          newItem.discount !== ogItem.discount && newItem.discount) // (newItem.total !== ogItem.total) && newItem.total ) \n            {\n              // data has changed, so should save this item\n              newItem.quantity = newItem.quantity ? newItem.quantity : ogItem.quantity;\n              newItem.cost = newItem.cost ? newItem.cost : ogItem.cost; // newItem.subtotal = newItem.subtotal ? newItem.subtotal : ogItem.subtotal\n\n              newItem.discount = newItem.discount ? newItem.discount : ogItem.discount; // newItem.total = newItem.total ? newItem.total : ogItem.total\n\n              updatedData.push(newItem);\n            }\n        }\n      });\n    }); // const itemsToDelete = []\n    // console.log(data)\n    // originalData.forEach(item => {\n    //     console.log(item)\n    //     if (!data.includes(item)) {\n    //         itemsToDelete.push(item)\n    //     }\n    // })\n\n    console.log(itemsToDelete); // const found = originalData.some(item=> data.includes(item))\n    // console.log(updatedData)\n    // router.updateOrderItem(updatedData, props.values.id).then(data => {\n    //     if (data === \"Success\") {\n    //         setEditingOrderItem(false)\n    //         setOrderItemBtnText(\"Edit Order Items\")\n    //         getData()\n    //     } else {\n    //         alert(\"Failed to save order items. Please try again.\")\n    //         setOrderItemBtnText(\"Edit Order Items\")\n    //     }\n    // })\n  } // function statusChanged(e) {\n  //     console.log(e.target.value)\n  //     setStatus(e.target.value)\n  //     if (e.target.value === \"fulfilled\") {\n  //         setTrackingHidden(false)\n  //     } else {\n  //         setTrackingHidden(true)\n  //     }\n  // }\n  // function selectChanged(e) {\n  //     console.log(e.target.id)\n  // }\n\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  } //     function editInput(e) {\n  //         // e.preventDefault()\n  //         // console.log(orderSubtotal)\n  //         // console.log(e.target.value)\n  //         // console.log(e.target.id)\n  //         switch(e.target.id) {\n  //             case \"order-subtotal\":\n  //                 // setOrderSubtotal(e.target.value)\n  //                 console.log(e.target.value)\n  //                 console.log(orderSubtotal.current.value)\n  //                 break;\n  //             case \"order-total\":\n  //                 setOrderTotal(e.target.value)\n  //                 // break;\n  //             case \"order-discount\":\n  //                 setOrderDiscount(e.target.value)\n  //                 break\n  //             case \"tracking\":\n  //                 setTracking(e.target.value)\n  //                 break\n  //             case \"status\":\n  //                 setStatus(e.target.value)\n  //                 break\n  //             default:\n  //               break\n  //     }\n  // }\n\n\n  function editInput(data, value, type) {\n    data[type] = value; // update the value to be what was entered in the inputs\n\n    console.log(data);\n\n    if (value !== \"0\" && value !== 0 && value !== \"\") {\n      if (idsToUpdate.includes(data.order_item_id)) {\n        // Item is in array so let's update it\n        dataToUpdate.forEach((item, index) => {\n          if (item.order_item_id === data.order_item_id) {\n            var array = [...dataToUpdate]; // make a separate copy of the array\n\n            if (index !== -1) {\n              array.splice(index, 1);\n              setDataToUpdate(array);\n            }\n\n            setDataToUpdate(oldArray => [...oldArray, data]); // console.log(newData.quantity)\n            // if (newData.quantity !== \"0\" && newData.quantity !== 0 && newData.quantity !== \"\") {\n            //     console.log('are we calling here')\n          }\n        });\n      } else {\n        setIdsToUpdate(oldArray => [...oldArray, data.order_item_id]);\n        setDataToUpdate(oldArray => [...oldArray, data]);\n      }\n    } // console.log(data)\n    // var newData = item\n    // newData[type] = value\n    // console.log(newData)\n    // const newData = {\n    //     item_id: id,\n    //     quantity: \n    //     variantTitle: data.variant,\n    //     variantId: data.variant_id,\n    //     cost: data.cost,\n    //     quantity: orderQuantity,\n    //     subtotal: Math.round(data.cost * orderQuantity * 100, 2) / 100\n    // }\n    // if (variantsToUpdate.includes(data.variant_id)) {\n    //     // Item is in array so let's update it\n    //     dataToUpdate.forEach((item, index) => {\n\n  }\n\n  function remove(itemToRemove) {\n    console.log(itemToRemove);\n    data.forEach((item, index) => {\n      if (item.order_item_id === itemToRemove.order_item_id) {\n        var array = [...data]; // make a separate copy of the array\n\n        setItemsToDelete(oldArray => [...oldArray, item.order_item_id]);\n\n        if (index !== -1) {\n          array.splice(index, 1);\n          console.log(data);\n          setData(array);\n        }\n      }\n    }); // if (dataToUpdate.length > 0) {\n    //     dataToUpdate.forEach((item, index) => {   \n    //         if (item.order_item_id === itemToRemove.order_item_id) {\n    //             var array = [...dataToUpdate]; // make a separate copy of the array\n    //             if (index !== -1) {\n    //                 array.splice(index, 1);\n    //                 setDataToUpdate(array);\n    //             } \n    //         }\n    //     })\n    // }\n  } // function remove(data, element) {\n  //     variantData.forEach((item, index) => {\n  //         if (item.variant_id === element.variant_id) {\n  //             var array = [...data]; // make a separate copy of the array\n  //             if (index !== -1) {\n  //                 array.splice(index, 1);\n  //                 setVariantData(array);\n  //             }             \n  //         }\n  //     })\n  //     if (dataToUpdate.length > 0) {\n  //         dataToUpdate.forEach((item, index) => {   \n  //             if (item.variantId === element.variant_id) {\n  //                 var array = [...dataToUpdate]; // make a separate copy of the array\n  //                 if (index !== -1) {\n  //                     array.splice(index, 1);\n  //                     setDataToUpdate(array);\n  //                 } \n  //             }\n  //         })\n  //     }\n  // }\n\n\n  const EditItem = props => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"inline-block\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: \"inline-block\",\n          margin: \"10px\",\n          fontSize: \"1.1rem\"\n        },\n        children: `${props.title}: `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"table-cell\",\n        type: \"text\",\n        id: props.id,\n        ref: props.refName,\n        placeholder: props.placeholder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        onClick: () => props.toggle(),\n        children: \"\\xD7    \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: \"2rem\"\n        },\n        children: [\"Order #\", data.length > 0 ? data[0].order_id : \"Error loading data\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"1.4rem\"\n        },\n        children: [\"Vendor: \", data.length > 0 ? data[0].name : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isEditingOrder ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(EditItem, {\n            title: \"Subtotal\",\n            id: \"order-subtotal\",\n            placeholder: data.length > 0 ? formatter.format(data[0].order_subtotal) : \"\",\n            refName: orderSubtotal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(EditItem, {\n            title: \"Discount\",\n            id: \"order-discount\",\n            placeholder: data.length > 0 ? formatter.format(data[0].order_discount) : \"\",\n            refName: orderDiscount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: \"inline-block\",\n              margin: \"10px\",\n              fontSize: \"1.1rem\"\n            },\n            children: [\"Total: \", data.length > 0 ? formatter.format(data[0].order_total) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: \"inline-block\",\n              margin: \"10px\",\n              fontSize: \"1.1rem\"\n            },\n            children: [\"Subtotal: \", data.length > 0 ? formatter.format(data[0].order_subtotal) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: \"inline-block\",\n              margin: \"10px\",\n              fontSize: \"1.1rem\"\n            },\n            children: [\"Discount: \", data.length > 0 ? formatter.format(data[0].order_discount) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: \"inline-block\",\n              margin: \"10px\",\n              fontSize: \"1.1rem\"\n            },\n            children: [\"Total: \", data.length > 0 ? formatter.format(data[0].order_total) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 17\n      }, this), isEditingOrder ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          style: inputStyle,\n          defaultValue: data.length > 0 ? data[0].status : \"submitted\",\n          ref: status,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"submitted\",\n            children: \"Submitted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"fulfilled\",\n            children: \"Fulfilled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"completed\",\n            children: \"Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(EditItem, {\n          title: \"Tracking\",\n          id: \"tracking\",\n          placeholder: data.length > 0 && data[0].tracking ? data[0].tracking : \"Enter tracking...\",\n          refName: tracking\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: \"1.1rem\",\n            color: data.length > 0 && data[0].status === \"submitted\" ? \"red\" : data.length > 0 && data[0].status === \"fulfilled\" ? \"orange\" : \"green\"\n          },\n          children: [\"Status: \", data.length > 0 ? capitalizeFirstLetter(data[0].status) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: \"10px\",\n            fontSize: \"1.1rem\"\n          },\n          children: [\"Tracking: \", data.length > 0 && data[0].tracking ? data[0].tracking : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            display: \"inline-block\",\n            margin: \"10px\",\n            fontSize: \"1.1rem\"\n          },\n          children: [\"Submitted: \", data.length > 0 ? data[0].submitted_date : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            display: \"inline-block\",\n            margin: \"10px\",\n            fontSize: \"1.1rem\"\n          },\n          children: [\"Fulfilled: \", data.length > 0 ? data[0].fulfilled_date : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            display: \"inline-block\",\n            margin: \"10px\",\n            fontSize: \"1.1rem\"\n          },\n          children: [\"Completed: \", data.length > 0 ? data[0].completed_date : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        hidden: isEditingOrderItem || data.length > 0 && data[0].status === \"completed\",\n        onClick: editBtnClicked,\n        className: \"edit-btn\",\n        id: \"order-btn\",\n        style: {\n          backgroundColor: editColor\n        },\n        children: orderBtnText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        hidden: isEditingOrder || data.length > 0 && data[0].status === \"completed\",\n        onClick: editBtnClicked,\n        className: \"edit-btn\",\n        id: \"order-item-btn\",\n        style: {\n          backgroundColor: editColor\n        },\n        children: orderItemBtnText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Variant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Cost/unit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Subtotal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Discount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data.map((item, index) => {\n          return isEditingOrderItem ? /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: item.product\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: item.variant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"table-cell\",\n                type: \"text\",\n                onChange: e => editInput(item, e.target.value, \"cost\"),\n                placeholder: formatter.format(item.cost)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"table-cell\",\n                type: \"text\",\n                onChange: e => editInput(item, e.target.value, \"quantity\"),\n                placeholder: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.cost * item.quantity)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"table-cell\",\n                type: \"text\",\n                onChange: e => editInput(item, e.target.value, \"discount\"),\n                placeholder: formatter.format(item.discount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.cost * item.quantity - item.discount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"close\",\n                style: {\n                  color: \"red\"\n                },\n                onClick: () => remove(item),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: item.product\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: item.variant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.cost)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.cost * item.quantity)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.discount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.cost * item.quantity - item.discount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 387,\n    columnNumber: 9\n  }, this);\n}\n\n_s(OrderPopup, \"AI+0+gKRE9Zn9zijX+V3t3yRvKY=\");\n\n_c = OrderPopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderPopup\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Orders/OrderPopup.js"],"names":["useState","useEffect","useRef","router","OrderPopup","props","data","setData","originalData","setOriginalData","isLoading","setLoading","orderBtnText","setOrderBtnText","orderItemBtnText","setOrderItemBtnText","isEditingOrder","setEditingOrder","isEditingOrderItem","setEditingOrderItem","editColor","setEditColor","isTrackingHidden","setTrackingHidden","idsToUpdate","setIdsToUpdate","dataToUpdate","setDataToUpdate","itemsToDelete","setItemsToDelete","orderSubtotal","orderDiscount","orderTotal","tracking","status","console","log","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","inputStyle","margin","padding","fontSize","border","borderBottom","getData","loadOrder","values","id","then","newData","map","a","editBtnClicked","e","target","saveOrder","saveOrderItem","orderData","subtotal","current","value","order_subtotal","discount","order_discount","discountsToUpdate","forEach","item","push","isItemDiscount","updateOrder","alert","updatedData","newItem","ogItem","order_item_id","quantity","cost","capitalizeFirstLetter","string","charAt","toUpperCase","slice","editInput","type","includes","index","array","splice","oldArray","remove","itemToRemove","EditItem","display","title","refName","placeholder","toggle","length","order_id","name","format","order_total","textAlign","color","submitted_date","fulfilled_date","completed_date","backgroundColor","product","variant"],"mappings":"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","sourcesContent":["import {useState, useEffect, useRef} from \"react\"\nimport * as router from \"./orderAPI\"\n\nexport default function OrderPopup(props) {\n    \n    const [data, setData] = useState([])\n    const [originalData, setOriginalData] = useState([])\n    // const [ogData, setOGData] = useState([])\n    const [isLoading, setLoading] = useState(false)\n    const [orderBtnText, setOrderBtnText] = useState(\"Edit Order\")\n    const [orderItemBtnText, setOrderItemBtnText] = useState(\"Edit Order Item\")\n    const [isEditingOrder, setEditingOrder] = useState(false)\n    const [isEditingOrderItem, setEditingOrderItem] = useState(false)\n    const [editColor, setEditColor] = useState(\"#76c32d\")\n    const [isTrackingHidden, setTrackingHidden] = useState(true)\n    const [idsToUpdate, setIdsToUpdate] = useState([])\n    const [dataToUpdate, setDataToUpdate] = useState([])\n    const [itemsToDelete, setItemsToDelete] = useState([])\n\n    // const [status, setStatus] = useState(\"\")\n    // const [tracking, setTracking] = useState(\"\")\n    // const [orderDiscount, setOrderDiscount] = useState(\"\")\n    // const [orderTotal, setOrderTotal] = useState(\"\")\n    // const [orderSubtotal, setOrderSubtotal] = useState(0)\n\n    const orderSubtotal = useRef()\n    const orderDiscount = useRef()\n    const orderTotal = useRef()\n    const tracking = useRef()\n    const status = useRef()\n\n\n    console.log(dataToUpdate)\n    console.log(idsToUpdate)\n\n    // console.log(isTrackingHidden)\n    // console.log(status)\n\n    const formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        minimumFractionDigits: 0\n        })\n\n    const inputStyle = {\n        margin: \"20px auto\",\n        padding: \"10px 20px\",\n        fontSize: \"16px\",\n        border: \"none\",\n        borderBottom: \"1px solid #76c32d\"\n    }\n\n\n\n    function getData() {\n        setLoading(true)\n        router.loadOrder(props.values.id).then(data => {\n            if (data) {\n                console.log(data)\n                setData(data)\n                // const newData = data.slice()\n                const newData = data.map(a => ({...a})) // make copy to compare dataToUpdate with to look for changes\n                console.log(newData)\n                setOriginalData(newData)\n    \n\n                setLoading(false)      \n            }\n        })\n    }\n\n    useEffect(() => {\n        getData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    if (isLoading) {\n        return <div className=\"loader\"></div>;\n    }\n\n    function editBtnClicked(e) {\n        \n       \n        if (e.target.id === \"order-btn\") {\n            if (!isEditingOrder) {\n                setOrderBtnText(\"Save Order\")\n                setEditingOrder(true)\n            } else {\n                saveOrder()\n            }\n        } else if (e.target.id === \"order-item-btn\") {\n            if (!isEditingOrderItem) {\n                setOrderItemBtnText(\"Save Order Item\")\n                setEditingOrderItem(true)\n            } else {\n                saveOrderItem()\n            }\n        }\n        setEditColor(editColor === \"#26B1FF\" ? \"#76c32d\" : \"#26B1FF\")\n        \n        \n    }\n\n    function saveOrder() {\n        const orderData = {\n            subtotal: orderSubtotal.current.value ? orderSubtotal.current.value : data[0].order_subtotal,\n            discount: orderDiscount.current.value ? orderDiscount.current.value : data[0].order_discount,\n            // total: orderTotal.current.value ? orderTotal.current.value : data[0].order_total,\n            status: status.current.value ? status.current.value : data[0].status,\n            tracking: tracking.current.value ? tracking.current.value : data[0].tracking,\n        }\n\n        const discountsToUpdate = []\n\n        data.forEach(item => {\n            if (item.discount === \"0\" || item.discount === 0 || item.discount === \"\") {\n                discountsToUpdate.push(item)\n            }\n        })\n\n        const isItemDiscount = data ? true : false\n\n        router.updateOrder(orderData, props.values.id, data, discountsToUpdate).then(data => {\n            if (data === \"Success\") {\n                setEditingOrder(false)\n                setOrderBtnText(\"Edit Order\")\n                getData()\n\n                // reload order item data if the status is completed b/c then would have updated the discount and cost of the items\n\n                // setTrackingHidden(true)\n            } else {\n                alert(\"Failed to save order. Please try again.\")\n                setOrderBtnText(\"Edit Order\")\n            }\n        })      \n    }\n\n    function saveOrderItem() {\n        console.log('Saving order item')\n\n        // make sure to only pass in data with changes\n\n        const updatedData = []\n\n        console.log(data)\n        console.log(originalData)\n        console.log(dataToUpdate)\n\n        dataToUpdate.forEach(newItem => {\n            originalData.forEach(ogItem => {\n                if (ogItem.order_item_id === newItem.order_item_id) {\n\n                    console.log(ogItem)\n                    console.log(newItem)\n                    // Same item\n                    if ((newItem.quantity !== ogItem.quantity) && newItem.quantity || \n                        (newItem.cost !== ogItem.cost) && newItem.cost || \n                        // (newItem.subtotal !== ogItem.subtotal) && newItem.subtotal || \n                        (newItem.discount !== ogItem.discount) && newItem.discount)\n                        // (newItem.total !== ogItem.total) && newItem.total ) \n                        {\n                            // data has changed, so should save this item\n                            newItem.quantity = newItem.quantity ? newItem.quantity : ogItem.quantity\n                            newItem.cost = newItem.cost ? newItem.cost : ogItem.cost\n                            // newItem.subtotal = newItem.subtotal ? newItem.subtotal : ogItem.subtotal\n                            newItem.discount = newItem.discount ? newItem.discount : ogItem.discount\n                            // newItem.total = newItem.total ? newItem.total : ogItem.total\n\n                            updatedData.push(newItem)\n                        }\n                }\n            })\n        })\n\n        // const itemsToDelete = []\n\n        // console.log(data)\n\n        // originalData.forEach(item => {\n        //     console.log(item)\n        //     if (!data.includes(item)) {\n        //         itemsToDelete.push(item)\n        //     }\n        // })\n\n        console.log(itemsToDelete)\n\n        // const found = originalData.some(item=> data.includes(item))\n\n\n        \n\n        // console.log(updatedData)\n        // router.updateOrderItem(updatedData, props.values.id).then(data => {\n        //     if (data === \"Success\") {\n        //         setEditingOrderItem(false)\n        //         setOrderItemBtnText(\"Edit Order Items\")\n        //         getData()\n        //     } else {\n        //         alert(\"Failed to save order items. Please try again.\")\n        //         setOrderItemBtnText(\"Edit Order Items\")\n        //     }\n        // })\n    }\n        \n        \n        \n\n    // function statusChanged(e) {\n\n    //     console.log(e.target.value)\n\n    //     setStatus(e.target.value)\n\n    //     if (e.target.value === \"fulfilled\") {\n    //         setTrackingHidden(false)\n    //     } else {\n    //         setTrackingHidden(true)\n    //     }\n    // }\n\n    // function selectChanged(e) {\n    //     console.log(e.target.id)\n    // }\n\n    function capitalizeFirstLetter(string) {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n      }\n\n//     function editInput(e) {\n//         // e.preventDefault()\n//         // console.log(orderSubtotal)\n//         // console.log(e.target.value)\n//         // console.log(e.target.id)\n//         switch(e.target.id) {\n//             case \"order-subtotal\":\n//                 // setOrderSubtotal(e.target.value)\n//                 console.log(e.target.value)\n//                 console.log(orderSubtotal.current.value)\n//                 break;\n//             case \"order-total\":\n//                 setOrderTotal(e.target.value)\n//                 // break;\n//             case \"order-discount\":\n//                 setOrderDiscount(e.target.value)\n//                 break\n//             case \"tracking\":\n//                 setTracking(e.target.value)\n//                 break\n//             case \"status\":\n//                 setStatus(e.target.value)\n//                 break\n//             default:\n//               break\n//     }\n// }\n\n    function editInput(data, value, type) {\n        data[type] = value // update the value to be what was entered in the inputs\n        console.log(data)\n\n        if (value !== \"0\" && value !== 0 && value !== \"\") {\n            \n\n            if (idsToUpdate.includes(data.order_item_id)) {\n                // Item is in array so let's update it\n                dataToUpdate.forEach((item, index) => {\n                    \n                    if (item.order_item_id === data.order_item_id) {\n                        var array = [...dataToUpdate]; // make a separate copy of the array\n                        if (index !== -1) {\n                            array.splice(index, 1);\n                            setDataToUpdate(array);\n                        } \n       \n                            setDataToUpdate(oldArray => [...oldArray, data])   \n                       \n                  \n               \n                        // console.log(newData.quantity)\n                        // if (newData.quantity !== \"0\" && newData.quantity !== 0 && newData.quantity !== \"\") {\n                        //     console.log('are we calling here')\n                    }  \n                   \n                    \n                })\n            } else {\n\n                    setIdsToUpdate(oldArray => [...oldArray, data.order_item_id])\n                    setDataToUpdate(oldArray => [...oldArray, data])\n \n            }\n    \n        } \n\n        // console.log(data)\n\n      \n\n\n        // var newData = item\n        // newData[type] = value\n        // console.log(newData)\n        // const newData = {\n        //     item_id: id,\n        //     quantity: \n        //     variantTitle: data.variant,\n        //     variantId: data.variant_id,\n        //     cost: data.cost,\n        //     quantity: orderQuantity,\n        //     subtotal: Math.round(data.cost * orderQuantity * 100, 2) / 100\n        // }\n\n        // if (variantsToUpdate.includes(data.variant_id)) {\n        //     // Item is in array so let's update it\n        //     dataToUpdate.forEach((item, index) => {\n                \n    }\n\n    function remove(itemToRemove) {\n\n        console.log(itemToRemove)\n\n        data.forEach((item, index) => {\n            if (item.order_item_id === itemToRemove.order_item_id) {\n                var array = [...data]; // make a separate copy of the array\n                setItemsToDelete(oldArray => [...oldArray, item.order_item_id])   \n                if (index !== -1) {\n                    array.splice(index, 1);\n                    console.log(data)\n                    setData(array);\n                }             \n            }\n        })\n\n        // if (dataToUpdate.length > 0) {\n        //     dataToUpdate.forEach((item, index) => {   \n        //         if (item.order_item_id === itemToRemove.order_item_id) {\n        //             var array = [...dataToUpdate]; // make a separate copy of the array\n        //             if (index !== -1) {\n        //                 array.splice(index, 1);\n        //                 setDataToUpdate(array);\n        //             } \n        //         }\n        //     })\n        // }\n    }\n\n    // function remove(data, element) {\n    //     variantData.forEach((item, index) => {\n    //         if (item.variant_id === element.variant_id) {\n    //             var array = [...data]; // make a separate copy of the array\n    //             if (index !== -1) {\n    //                 array.splice(index, 1);\n    //                 setVariantData(array);\n    //             }             \n    //         }\n    //     })\n\n    //     if (dataToUpdate.length > 0) {\n    //         dataToUpdate.forEach((item, index) => {   \n    //             if (item.variantId === element.variant_id) {\n    //                 var array = [...dataToUpdate]; // make a separate copy of the array\n    //                 if (index !== -1) {\n    //                     array.splice(index, 1);\n    //                     setDataToUpdate(array);\n    //                 } \n    //             }\n    //         })\n    //     }\n    // }\n\n    \n\n    const EditItem = (props) => {\n        return (\n            <div style={{display: \"inline-block\"}}>\n            <p style={{display: \"inline-block\", margin: \"10px\",fontSize: \"1.1rem\"}}>{`${props.title}: `}</p>\n            <input className=\"table-cell\" type=\"text\" id={props.id} ref={props.refName} placeholder={props.placeholder}/>\n        </div>\n        )\n      \n    }\n\n    return (\n        <div>\n            <div className=\"top-content\">\n                <span className=\"close\" onClick={() =>  props.toggle()}>&times;    </span>\n                <h2 style={{fontSize: \"2rem\"}}>Order #{data.length > 0 ? data[0].order_id : \"Error loading data\"}</h2>\n                <p style={{fontSize: \"1.4rem\"}}>Vendor: {data.length > 0 ? data[0].name : \"\"}</p>\n                <div>\n                {isEditingOrder\n                ? \n                <div>\n                    <EditItem title=\"Subtotal\" id=\"order-subtotal\" placeholder={data.length > 0 ? formatter.format(data[0].order_subtotal) : \"\"} refName={orderSubtotal}/>\n                    <EditItem title=\"Discount\" id=\"order-discount\" placeholder={data.length > 0 ? formatter.format(data[0].order_discount) : \"\"} refName={orderDiscount}/>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Total: {data.length > 0 ? formatter.format(data[0].order_total) : \"\"}</p>\n                    {/* <EditItem title=\"Total\" id=\"order-total\" placeholder={data.length > 0 ? formatter.format(data[0].order_total) : \"\"} refName={orderTotal}/>  */}\n                </div>\n                :\n                <div>\n                    <p style={{display: \"inline-block\", margin: \"10px\",fontSize: \"1.1rem\"}}>Subtotal: {data.length > 0 ? formatter.format(data[0].order_subtotal) : \"\"}</p>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Discount: {data.length > 0 ? formatter.format(data[0].order_discount) : \"\"}</p>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Total: {data.length > 0 ? formatter.format(data[0].order_total) : \"\"}</p>\n                </div>\n                }\n                   \n\n                </div>\n\n                {isEditingOrder \n                ?\n                <div style={{textAlign: \"center\"}}>\n                    <select style={inputStyle} defaultValue={data.length > 0 ? data[0].status : \"submitted\"} ref={status}>\n                        <option value=\"submitted\">Submitted</option>\n                        <option value=\"fulfilled\">Fulfilled</option>\n                        <option value=\"completed\">Completed</option>\n                    </select>\n                    <br />\n                    {/* <input hidden={isTrackingHidden} style={inputStyle} placeholder=\"Tracking\" onChange={(e) => setTracking(e.target.value)}></input><br/>\n                    <input hidden={isTrackingHidden} style={inputStyle} placeholder=\"Discount (i.e. 180.02)\" onChange={(e) => setDiscount(e.target.value)}></input> */}\n                    <EditItem title=\"Tracking\" id=\"tracking\" placeholder={data.length > 0  && data[0].tracking ? data[0].tracking : \"Enter tracking...\"} refName={tracking}/>\n                    \n                </div>\n                :\n                <div>\n                    <p style={{fontSize: \"1.1rem\", color: data.length > 0 && data[0].status === \"submitted\" ? \"red\" : data.length > 0 && data[0].status===\"fulfilled\" ? \"orange\" : \"green\"}}>Status: {data.length > 0 ? capitalizeFirstLetter(data[0].status) : \"\"}</p>\n                    <p style={{margin: \"10px\",fontSize: \"1.1rem\"}}>Tracking: {data.length > 0 && data[0].tracking ? data[0].tracking : \"\"}</p>\n                </div>\n                }\n\n               \n                <div>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Submitted: {data.length > 0 ? data[0].submitted_date : \"\"}</p>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Fulfilled: {data.length > 0 ? data[0].fulfilled_date : \"\"}</p>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Completed: {data.length > 0 ? data[0].completed_date : \"\"}</p>\n                </div>\n                \n                \n                {/* <button hidden={isTrackingHidden ? data[0] && data[0].status === \"completed\" : false} onClick={editBtnClicked} className=\"edit-btn\" style={{backgroundColor: editColor}}>{btnText}</button>\n                 */}\n                 <button hidden={isEditingOrderItem || (data.length > 0 && data[0].status === \"completed\")} onClick={editBtnClicked} className=\"edit-btn\" id=\"order-btn\"style={{backgroundColor: editColor}}>{orderBtnText}</button>\n                 <button hidden={isEditingOrder || (data.length > 0 && data[0].status === \"completed\")} onClick={editBtnClicked} className=\"edit-btn\" id='order-item-btn' style={{backgroundColor: editColor}}>{orderItemBtnText}</button>\n            </div>\n\n            <table style={{textAlign: \"center\"}}>\n                <thead >\n                    <tr>\n                        <th className=\"table-header\">Product</th>\n                        <th className=\"table-header\">Variant</th>\n                        <th className=\"table-header\">Cost/unit</th>\n                        <th className=\"table-header\">Quantity</th>\n                        <th className=\"table-header\">Subtotal</th>\n                        <th className=\"table-header\">Discount</th>\n                        <th className=\"table-header\">Total</th>\n                        <th className=\"table-header\">Remove</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {data.map((item, index) => {\n                    return (\n                         isEditingOrderItem\n                            ? \n                            <tr key={index}>\n                                <td className=\"table-cell\">{item.product}</td>\n                                <td className=\"table-cell\">{item.variant}</td>\n                                {/* <td className=\"table-cell\">{formatter.format(item.subtotal / item.quantity)}</td> */}\n\n                                <td className=\"table-cell\">\n                                    <input className=\"table-cell\" type=\"text\" onChange={(e) => editInput(item, e.target.value, \"cost\")} placeholder={formatter.format(item.cost)} />\n                                </td>\n     \n                                <td className=\"table-cell\">\n                                    <input className=\"table-cell\" type=\"text\" onChange={(e) => editInput(item, e.target.value, \"quantity\")} placeholder={item.quantity} />\n                                </td>\n                                \n                               \n                                <td className=\"table-cell\">{formatter.format(item.cost * item.quantity)}</td>\n                                <td className=\"table-cell\">\n                                    <input className=\"table-cell\" type=\"text\" onChange={(e) => editInput(item, e.target.value, \"discount\")} placeholder={formatter.format(item.discount)} />\n                                </td>\n                                <td className=\"table-cell\">{formatter.format((item.cost * item.quantity) - item.discount)}</td>  \n                                <td><span className=\"close\" style={{color: \"red\"}} onClick={() =>  remove(item)}>&times;</span></td>\n                            </tr>\n          \n                            :\n                            <tr key={index}>\n                                <td className=\"table-cell\">{item.product}</td>\n                                <td className=\"table-cell\">{item.variant}</td>\n                                {/* <td className=\"table-cell\">{formatter.format(item.subtotal / item.quantity)}</td> */}\n                                <td className=\"table-cell\">{formatter.format(item.cost)}</td>\n                                <td className=\"table-cell\">{item.quantity}</td>\n                                \n                                <td className=\"table-cell\">{formatter.format(item.cost * item.quantity)}</td> \n                                <td className=\"table-cell\">{formatter.format(item.discount)}</td>\n                                <td className=\"table-cell\">{formatter.format((item.cost * item.quantity) - item.discount)}</td>    \n                            </tr>\n                            \n                    )\n                    })\n                }\n                </tbody>\n            </table>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}