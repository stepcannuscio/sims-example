{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Orders/OrderPopup.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport * as router from \"./orderAPI\";\nexport default function OrderPopup(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [orderBtnText, setOrderBtnText] = useState(\"Edit Order\");\n  const [orderItemBtnText, setOrderItemBtnText] = useState(\"Edit Order Item\");\n  const [isEditingOrder, setEditingOrder] = useState(false);\n  const [isEditingOrderItem, setEditingOrderItem] = useState(false);\n  const [editColor, setEditColor] = useState(\"#76c32d\");\n  const [isTrackingHidden, setTrackingHidden] = useState(true);\n  const [status, setStatus] = useState(\"\");\n  const [tracking, setTracking] = useState(\"\");\n  const [orderDiscount, setOrderDiscount] = useState(\"\");\n  const [orderTotal, setOrderTotal] = useState(\"\"); // const [orderSubtotal, setOrderSubtotal] = useState(0)\n\n  const orderSubtotal = useRef(); // console.log(isTrackingHidden)\n  // console.log(status)\n\n  const formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0\n  });\n  const inputStyle = {\n    margin: \"20px auto\",\n    padding: \"10px 20px\",\n    fontSize: \"16px\",\n    border: \"none\",\n    borderBottom: \"1px solid #76c32d\"\n  };\n\n  function getData() {\n    setLoading(true);\n    router.loadOrder(props.values.id).then(data => {\n      if (data) {\n        setData(data);\n        setLoading(false);\n      }\n    });\n  }\n\n  useEffect(() => {\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 16\n    }, this);\n  }\n\n  function editBtnClicked(e) {\n    if (e.target.id === \"order-btn\") {\n      if (!isEditingOrder) {\n        setOrderBtnText(\"Save Order\");\n        setEditingOrder(true);\n      } else {\n        saveOrder();\n      }\n    } else if (e.target.id === \"order-item-btn\") {\n      if (!isEditingOrderItem) {\n        setOrderItemBtnText(\"Save Order Item\");\n        setEditingOrderItem(true);\n      } else {\n        saveOrderItem();\n        setEditingOrderItem(false); // move to saveOrderItem if the request is successful\n      }\n    }\n\n    setEditColor(editColor === \"#26B1FF\" ? \"#76c32d\" : \"#26B1FF\");\n  }\n\n  function saveOrder() {\n    const orderData = {\n      subtotal: orderSubtotal ? orderSubtotal : data[0].order_subtotal,\n      discount: orderDiscount ? orderDiscount : data[0].order_discount,\n      total: orderTotal ? orderTotal : data[0].order_total,\n      status: status ? status : data[0].status,\n      tracking: tracking ? tracking : data[0].tracking\n    };\n    router.updateOrder(orderData, props.values.id, data).then(data => {\n      if (data === \"Success\") {\n        setEditingOrder(false);\n        setOrderBtnText(\"Edit\");\n        getData(); // reload order item data if the status is completed b/c then would have updated the discount and cost of the items\n        // setTrackingHidden(true)\n      } else {\n        setOrderBtnText(\"Edit\");\n      }\n    });\n  }\n\n  function saveOrderItem() {\n    console.log('Saving order item');\n  } // function statusChanged(e) {\n  //     console.log(e.target.value)\n  //     setStatus(e.target.value)\n  //     if (e.target.value === \"fulfilled\") {\n  //         setTrackingHidden(false)\n  //     } else {\n  //         setTrackingHidden(true)\n  //     }\n  // }\n\n\n  function selectChanged(e) {\n    console.log(e.target.id);\n  }\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  function editInput(e) {\n    // e.preventDefault()\n    // console.log(orderSubtotal)\n    // console.log(e.target.value)\n    // console.log(e.target.id)\n    switch (e.target.id) {\n      case \"order-subtotal\":\n        // setOrderSubtotal(e.target.value)\n        console.log(e.target.value);\n        console.log(orderSubtotal);\n        break;\n\n      case \"order-total\":\n        setOrderTotal(e.target.value);\n      // break;\n\n      case \"order-discount\":\n        setOrderDiscount(e.target.value);\n        break;\n\n      case \"tracking\":\n        setTracking(e.target.value);\n        break;\n\n      case \"status\":\n        setStatus(e.target.value);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  const EditItem = props => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"inline-block\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          display: \"inline-block\",\n          margin: \"10px\",\n          fontSize: \"1.1rem\"\n        },\n        children: `${props.title}: `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"table-cell\",\n        type: \"text\",\n        onChange: editInput,\n        id: props.id,\n        ref: props.refName,\n        placeholder: props.placeholder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        onClick: () => props.toggle(),\n        children: \"\\xD7    \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: \"2rem\"\n        },\n        children: [\"Order #\", data.length > 0 ? data[0].order_id : \"Error loading data\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"1.4rem\"\n        },\n        children: [\"Vendor: \", data.length > 0 ? data[0].name : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: isEditingOrder ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(EditItem, {\n            title: \"Subtotal\",\n            id: \"order-subtotal\",\n            placeholder: data.length > 0 ? formatter.format(data[0].order_subtotal) : \"\",\n            refName: orderSubtotal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(EditItem, {\n            title: \"Discount\",\n            id: \"order-discount\",\n            placeholder: data.length > 0 ? formatter.format(data[0].order_discount) : \"\",\n            value: orderDiscount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(EditItem, {\n            title: \"Total\",\n            id: \"order-total\",\n            placeholder: data.length > 0 ? formatter.format(data[0].order_total) : \"\",\n            value: orderTotal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: \"inline-block\",\n              margin: \"10px\",\n              fontSize: \"1.1rem\"\n            },\n            children: [\"Subtotal: \", data.length > 0 ? formatter.format(data[0].order_subtotal) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: \"inline-block\",\n              margin: \"10px\",\n              fontSize: \"1.1rem\"\n            },\n            children: [\"Discount: \", data.length > 0 ? formatter.format(data[0].order_discount) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              display: \"inline-block\",\n              margin: \"10px\",\n              fontSize: \"1.1rem\"\n            },\n            children: [\"Total: \", data.length > 0 ? formatter.format(data[0].order_total) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), isEditingOrder ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          style: inputStyle,\n          defaultValue: \"submitted\",\n          onChange: selectChanged,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"submitted\",\n            children: \"Submitted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"fulfilled\",\n            children: \"Fulfilled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"completed\",\n            children: \"Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(EditItem, {\n          title: \"Tracking\",\n          id: \"tracking\",\n          placeholder: data.length > 0 && data[0].tracking ? formatter.format(data[0].tracking) : \"Enter tracking...\",\n          value: tracking\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: \"1.1rem\",\n            color: data.length > 0 && data[0].status === \"submitted\" ? \"red\" : data.length > 0 && data[0].status === \"fulfilled\" ? \"orange\" : \"green\"\n          },\n          children: [\"Status: \", data.length > 0 ? capitalizeFirstLetter(data[0].status) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: \"10px\",\n            fontSize: \"1.1rem\"\n          },\n          children: [\"Tracking: \", data.length > 0 && data[0].tracking ? formatter.format(data[0].tracking) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            display: \"inline-block\",\n            margin: \"10px\",\n            fontSize: \"1.1rem\"\n          },\n          children: [\"Submitted: \", data.length > 0 ? data[0].submitted_date : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            display: \"inline-block\",\n            margin: \"10px\",\n            fontSize: \"1.1rem\"\n          },\n          children: [\"Fulfilled: \", data.length > 0 ? data[0].fulfilled_date : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            display: \"inline-block\",\n            margin: \"10px\",\n            fontSize: \"1.1rem\"\n          },\n          children: [\"Completed: \", data.length > 0 ? data[0].completed_date : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        hidden: isEditingOrderItem,\n        onClick: editBtnClicked,\n        className: \"edit-btn\",\n        id: \"order-btn\",\n        style: {\n          backgroundColor: editColor\n        },\n        children: orderBtnText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        hidden: isEditingOrder,\n        onClick: editBtnClicked,\n        className: \"edit-btn\",\n        id: \"order-item-btn\",\n        style: {\n          backgroundColor: editColor\n        },\n        children: orderItemBtnText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Variant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Cost\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Subtotal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Discount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"table-header\",\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: item.product\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: item.variant\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.cost)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.subtotal)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.discount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"table-cell\",\n              children: formatter.format(item.total)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 9\n  }, this);\n}\n\n_s(OrderPopup, \"3Gh5IYFbudqokaTPlsg3KUSWmF8=\");\n\n_c = OrderPopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderPopup\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/sims/frontend/src/Orders/OrderPopup.js"],"names":["useState","useEffect","useRef","router","OrderPopup","props","data","setData","isLoading","setLoading","orderBtnText","setOrderBtnText","orderItemBtnText","setOrderItemBtnText","isEditingOrder","setEditingOrder","isEditingOrderItem","setEditingOrderItem","editColor","setEditColor","isTrackingHidden","setTrackingHidden","status","setStatus","tracking","setTracking","orderDiscount","setOrderDiscount","orderTotal","setOrderTotal","orderSubtotal","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","inputStyle","margin","padding","fontSize","border","borderBottom","getData","loadOrder","values","id","then","editBtnClicked","e","target","saveOrder","saveOrderItem","orderData","subtotal","order_subtotal","discount","order_discount","total","order_total","updateOrder","console","log","selectChanged","capitalizeFirstLetter","string","charAt","toUpperCase","slice","editInput","value","EditItem","display","title","refName","placeholder","toggle","length","order_id","name","format","textAlign","color","submitted_date","fulfilled_date","completed_date","backgroundColor","map","item","index","product","variant","quantity","cost"],"mappings":"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","sourcesContent":["import {useState, useEffect, useRef} from \"react\"\nimport * as router from \"./orderAPI\"\n\nexport default function OrderPopup(props) {\n    \n    const [data, setData] = useState([])\n    const [isLoading, setLoading] = useState(false)\n    const [orderBtnText, setOrderBtnText] = useState(\"Edit Order\")\n    const [orderItemBtnText, setOrderItemBtnText] = useState(\"Edit Order Item\")\n    const [isEditingOrder, setEditingOrder] = useState(false)\n    const [isEditingOrderItem, setEditingOrderItem] = useState(false)\n    const [editColor, setEditColor] = useState(\"#76c32d\")\n    const [isTrackingHidden, setTrackingHidden] = useState(true)\n\n    const [status, setStatus] = useState(\"\")\n    const [tracking, setTracking] = useState(\"\")\n    const [orderDiscount, setOrderDiscount] = useState(\"\")\n    const [orderTotal, setOrderTotal] = useState(\"\")\n    // const [orderSubtotal, setOrderSubtotal] = useState(0)\n\n    const orderSubtotal = useRef()\n\n    // console.log(isTrackingHidden)\n    // console.log(status)\n\n    const formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        minimumFractionDigits: 0\n        })\n\n    const inputStyle = {\n        margin: \"20px auto\",\n        padding: \"10px 20px\",\n        fontSize: \"16px\",\n        border: \"none\",\n        borderBottom: \"1px solid #76c32d\"\n    }\n\n    function getData() {\n        setLoading(true)\n        router.loadOrder(props.values.id).then(data => {\n            if (data) {\n                setData(data)\n                setLoading(false)      \n            }\n        })\n    }\n\n    useEffect(() => {\n        getData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    if (isLoading) {\n        return <div className=\"loader\"></div>;\n    }\n\n    function editBtnClicked(e) {\n        \n       \n        if (e.target.id === \"order-btn\") {\n            if (!isEditingOrder) {\n                setOrderBtnText(\"Save Order\")\n                setEditingOrder(true)\n            } else {\n                saveOrder()\n            }\n        } else if (e.target.id === \"order-item-btn\") {\n            if (!isEditingOrderItem) {\n                setOrderItemBtnText(\"Save Order Item\")\n                setEditingOrderItem(true)\n            } else {\n                saveOrderItem()\n                setEditingOrderItem(false) // move to saveOrderItem if the request is successful\n            }\n        }\n        setEditColor(editColor === \"#26B1FF\" ? \"#76c32d\" : \"#26B1FF\")\n        \n        \n    }\n\n    function saveOrder() {\n        const orderData = {\n            subtotal: orderSubtotal ? orderSubtotal : data[0].order_subtotal,\n            discount: orderDiscount ? orderDiscount : data[0].order_discount,\n            total: orderTotal ? orderTotal : data[0].order_total,\n            status: status ? status : data[0].status,\n            tracking: tracking ? tracking : data[0].tracking,\n        }\n\n        router.updateOrder(orderData, props.values.id, data).then(data => {\n            if (data === \"Success\") {\n                setEditingOrder(false)\n                setOrderBtnText(\"Edit\")\n                getData()\n\n                // reload order item data if the status is completed b/c then would have updated the discount and cost of the items\n\n                // setTrackingHidden(true)\n            } else {\n                setOrderBtnText(\"Edit\")\n            }\n        })      \n    }\n\n    function saveOrderItem() {\n        console.log('Saving order item')\n    }\n        \n        \n        \n\n    // function statusChanged(e) {\n\n    //     console.log(e.target.value)\n\n    //     setStatus(e.target.value)\n\n    //     if (e.target.value === \"fulfilled\") {\n    //         setTrackingHidden(false)\n    //     } else {\n    //         setTrackingHidden(true)\n    //     }\n    // }\n\n    function selectChanged(e) {\n        console.log(e.target.id)\n    }\n\n    function capitalizeFirstLetter(string) {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n      }\n\n    function editInput(e) {\n        // e.preventDefault()\n        // console.log(orderSubtotal)\n        // console.log(e.target.value)\n        // console.log(e.target.id)\n        switch(e.target.id) {\n            case \"order-subtotal\":\n                // setOrderSubtotal(e.target.value)\n                console.log(e.target.value)\n                console.log(orderSubtotal)\n                break;\n            case \"order-total\":\n                setOrderTotal(e.target.value)\n                // break;\n            case \"order-discount\":\n                setOrderDiscount(e.target.value)\n                break\n            case \"tracking\":\n                setTracking(e.target.value)\n                break\n            case \"status\":\n                setStatus(e.target.value)\n                break\n            default:\n              break\n    }\n}\n\n    const EditItem = (props) => {\n        return (\n            <div style={{display: \"inline-block\"}}>\n            <p style={{display: \"inline-block\", margin: \"10px\",fontSize: \"1.1rem\"}}>{`${props.title}: `}</p>\n            <input className=\"table-cell\" type=\"text\" onChange={editInput} id={props.id} ref={props.refName} placeholder={props.placeholder}/>\n        </div>\n        )\n      \n    }\n\n    return (\n        <div>\n            <div className=\"top-content\">\n                <span className=\"close\" onClick={() =>  props.toggle()}>&times;    </span>\n                <h2 style={{fontSize: \"2rem\"}}>Order #{data.length > 0 ? data[0].order_id : \"Error loading data\"}</h2>\n                <p style={{fontSize: \"1.4rem\"}}>Vendor: {data.length > 0 ? data[0].name : \"\"}</p>\n                <div>\n                {isEditingOrder\n                ? \n                <div>\n                    <EditItem title=\"Subtotal\" id=\"order-subtotal\" placeholder={data.length > 0 ? formatter.format(data[0].order_subtotal) : \"\"} refName={orderSubtotal}/>\n                    <EditItem title=\"Discount\" id=\"order-discount\" placeholder={data.length > 0 ? formatter.format(data[0].order_discount) : \"\"} value={orderDiscount}/>\n                    <EditItem title=\"Total\" id=\"order-total\" placeholder={data.length > 0 ? formatter.format(data[0].order_total) : \"\"} value={orderTotal}/> \n                </div>\n                :\n                <div>\n                    <p style={{display: \"inline-block\", margin: \"10px\",fontSize: \"1.1rem\"}}>Subtotal: {data.length > 0 ? formatter.format(data[0].order_subtotal) : \"\"}</p>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Discount: {data.length > 0 ? formatter.format(data[0].order_discount) : \"\"}</p>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Total: {data.length > 0 ? formatter.format(data[0].order_total) : \"\"}</p>\n                </div>\n                }\n                   \n\n                </div>\n\n                {isEditingOrder \n                ?\n                <div style={{textAlign: \"center\"}}>\n                    <select style={inputStyle} defaultValue=\"submitted\" onChange={selectChanged}>\n                        <option value=\"submitted\">Submitted</option>\n                        <option value=\"fulfilled\">Fulfilled</option>\n                        <option value=\"completed\">Completed</option>\n                    </select>\n                    <br />\n                    {/* <input hidden={isTrackingHidden} style={inputStyle} placeholder=\"Tracking\" onChange={(e) => setTracking(e.target.value)}></input><br/>\n                    <input hidden={isTrackingHidden} style={inputStyle} placeholder=\"Discount (i.e. 180.02)\" onChange={(e) => setDiscount(e.target.value)}></input> */}\n                    <EditItem title=\"Tracking\" id=\"tracking\" placeholder={data.length > 0  && data[0].tracking ? formatter.format(data[0].tracking) : \"Enter tracking...\"} value={tracking}/>\n                    \n                </div>\n                :\n                <div>\n                    <p style={{fontSize: \"1.1rem\", color: data.length > 0 && data[0].status === \"submitted\" ? \"red\" : data.length > 0 && data[0].status===\"fulfilled\" ? \"orange\" : \"green\"}}>Status: {data.length > 0 ? capitalizeFirstLetter(data[0].status) : \"\"}</p>\n                    <p style={{margin: \"10px\",fontSize: \"1.1rem\"}}>Tracking: {data.length > 0 && data[0].tracking ? formatter.format(data[0].tracking) : \"\"}</p>\n                </div>\n                }\n\n               \n                <div>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Submitted: {data.length > 0 ? data[0].submitted_date : \"\"}</p>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Fulfilled: {data.length > 0 ? data[0].fulfilled_date : \"\"}</p>\n                    <p style={{display: \"inline-block\", margin: \"10px\", fontSize: \"1.1rem\"}}>Completed: {data.length > 0 ? data[0].completed_date : \"\"}</p>\n                </div>\n                \n                \n                {/* <button hidden={isTrackingHidden ? data[0] && data[0].status === \"completed\" : false} onClick={editBtnClicked} className=\"edit-btn\" style={{backgroundColor: editColor}}>{btnText}</button>\n                 */}\n                 <button hidden={isEditingOrderItem} onClick={editBtnClicked} className=\"edit-btn\" id=\"order-btn\"style={{backgroundColor: editColor}}>{orderBtnText}</button>\n                 <button hidden={isEditingOrder} onClick={editBtnClicked} className=\"edit-btn\" id='order-item-btn' style={{backgroundColor: editColor}}>{orderItemBtnText}</button>\n            </div>\n\n            <table style={{textAlign: \"center\"}}>\n                <thead >\n                    <tr>\n                        <th className=\"table-header\">Product</th>\n                        <th className=\"table-header\">Variant</th>\n                        <th className=\"table-header\">Quantity</th>\n                        <th className=\"table-header\">Cost</th>\n                        <th className=\"table-header\">Subtotal</th>\n                        <th className=\"table-header\">Discount</th>\n                        <th className=\"table-header\">Total</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {data.map((item, index) => {\n                    return (\n                        <tr key={index}>\n                            <td className=\"table-cell\">{item.product}</td>\n                            <td className=\"table-cell\">{item.variant}</td>\n                            <td className=\"table-cell\">{item.quantity}</td>\n                            <td className=\"table-cell\">{formatter.format(item.cost)}</td>\n                            <td className=\"table-cell\">{formatter.format(item.subtotal)}</td>\n                            <td className=\"table-cell\">{formatter.format(item.discount)}</td>\n                            <td className=\"table-cell\">{formatter.format(item.total)}</td>    \n                        </tr>\n                        ) \n                    })\n                }\n                </tbody>\n            </table>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}