{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/burm-inventory/frontend/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport logo from \"../images/logo.png\";\nimport axios from \"axios\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nexport default function Login(props) {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n\n  if (props.isLoggedIn) {\n    console.log(\"checking log in !!!\"); // console.log(history.location)\n\n    if (history.location.state) {\n      if (history.location.state.from) {\n        // Comes from login -> User logged in\n        if (history.location.state.from.pathname == \"/login\") {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 28\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: history.location.state.from.pathname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 28\n          }, this);\n        }\n      } // Logged out -> do nothing, show this page\n\n    } else {\n      // Typed in /login in url while logged in\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n  const contentStyle = {\n    position: \"fixed\",\n    top: \"40%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    textAlign: \"center\"\n  };\n  const imgStyle = {\n    width: \"80%\"\n  };\n  const formStyle = {// padding: \"1rem\",\n  };\n  const inputStyle = {\n    backgroundColor: \"white\",\n    color: \"black\",\n    display: \"inline-block\",\n    margin: \"10px auto\",\n    padding: \"10px 20px\",\n    borderRadius: \"5px\",\n    width: \"100%\",\n    boxSizing: \"border-box\"\n  }; // const btnStyle = {\n  //     // width: \"25%\",\n  //     padding: \"8px 15px\",\n  //     marginTop: \"10px\",\n  //     borderRadius: \"5px\",\n  //     backgroundColor: \"#76C32D\",\n  //     color: \"white\"\n  // }\n\n  function sendAuthenticated() {\n    console.log(\"Sending authentication!\");\n    props.parentCallback(true);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    axios.post(\"http://localhost:5000/user/login\", {\n      username: username,\n      password: password\n    }, {\n      withCredentials: true\n    }).then(res => {\n      // console.log('def')\n      // console.log(res)\n      if (res.data) {\n        console.log(res.data);\n\n        if (res.data === \"No User Exists\") {\n          alert(\"No user with these credentials exists\");\n        } else if (res.data === \"Successfully Authenticated\") {\n          sendAuthenticated();\n        } // console.log(\"Successful Login\");\n        // sendAuthenticated()\n        // console.log(props.history.push(\"/\"))\n\n\n        history.push(\"/\");\n      }\n    }).catch(err => {\n      console.log('ghi');\n      console.log(err);\n\n      if (err.response) {\n        if (err.response.data) {\n          alert(\"Wrong credentials. Please try again.\");\n        }\n      }\n    });\n  }\n\n  function handleChange(e) {\n    if (e.target.type === \"text\") {\n      setUsername(e.target.value);\n    } else if (e.target.type === \"password\") {\n      setPassword(e.target.value);\n    }\n\n    console.log(e.target.type + \": \" + e.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: contentStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      style: imgStyle,\n      src: logo,\n      alt: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      style: formStyle,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: inputStyle,\n        type: \"text\",\n        placeholder: \"Username\",\n        value: username,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: inputStyle,\n        type: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"btn\",\n        type: \"submit\",\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"/nE+1o6xRAtcM7F1DwdqQmRYBrw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/stepcannuscio/Desktop/Home/Clients/Burman's Health Shop/burm-inventory/frontend/src/components/Login.js"],"names":["React","useState","logo","axios","useHistory","Redirect","Login","props","username","setUsername","password","setPassword","history","isLoggedIn","console","log","location","state","from","pathname","contentStyle","position","top","left","transform","textAlign","imgStyle","width","formStyle","inputStyle","backgroundColor","color","display","margin","padding","borderRadius","boxSizing","sendAuthenticated","parentCallback","handleSubmit","e","preventDefault","post","withCredentials","then","res","data","alert","push","catch","err","response","handleChange","target","type","value"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\nimport logo from \"../images/logo.png\"\nimport axios from \"axios\"\nimport { useHistory, Redirect } from \"react-router-dom\";\n\n\nexport default function Login(props) {\n\n  \n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n\n    const history = useHistory();\n\n    if (props.isLoggedIn) {\n\n        console.log(\"checking log in !!!\")\n        // console.log(history.location)\n        \n        if (history.location.state) {\n            if (history.location.state.from) {\n                // Comes from login -> User logged in\n                if (history.location.state.from.pathname == \"/login\") {\n                    return <Redirect to=\"/\"/>\n                } else {\n                    return <Redirect to={history.location.state.from.pathname} />\n                }\n                \n            } \n            // Logged out -> do nothing, show this page\n            \n        } else  {\n            // Typed in /login in url while logged in\n            return <Redirect to=\"/\"/>\n        }\n        \n    }\n\n    const contentStyle = {\n        position: \"fixed\",\n        top: \"40%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        textAlign: \"center\"\n    }\n\n    const imgStyle = {\n        width: \"80%\"\n    }\n\n    const formStyle = {\n        // padding: \"1rem\",\n        \n    }\n\n    const inputStyle = {\n        backgroundColor: \"white\",\n        color: \"black\",\n        display: \"inline-block\",\n        margin: \"10px auto\",\n        padding: \"10px 20px\",\n        borderRadius: \"5px\",\n        width: \"100%\",\n        boxSizing: \"border-box\"\n    }\n\n    // const btnStyle = {\n    //     // width: \"25%\",\n    //     padding: \"8px 15px\",\n    //     marginTop: \"10px\",\n    //     borderRadius: \"5px\",\n    //     backgroundColor: \"#76C32D\",\n    //     color: \"white\"\n\n    // }\n    function sendAuthenticated() {\n        console.log(\"Sending authentication!\")\n        props.parentCallback(true);\n    }\n\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        axios.post(\"http://localhost:5000/user/login\", {\n            username: username,\n            password: password\n        }, {withCredentials: true}\n        )\n        .then(res => {\n            // console.log('def')\n            // console.log(res)\n            if (res.data) {\n                console.log(res.data)\n                if (res.data === \"No User Exists\") {\n                    alert(\"No user with these credentials exists\")\n                } else if (res.data === \"Successfully Authenticated\") {\n                    sendAuthenticated()\n                }\n                // console.log(\"Successful Login\");\n                // sendAuthenticated()\n                // console.log(props.history.push(\"/\"))\n                history.push(\"/\");\n                \n            }\n        })\n        .catch(err => {\n            console.log('ghi')\n            console.log(err)\n            if (err.response) {\n                if (err.response.data) {\n                    alert(\"Wrong credentials. Please try again.\")\n                }\n            }\n            \n        })\n    }\n\n    function handleChange(e) {\n        if (e.target.type === \"text\") {\n            setUsername(e.target.value)\n        } else if (e.target.type === \"password\") {\n            setPassword(e.target.value)\n        }   \n        console.log(e.target.type + \": \" + e.target.value)\n    }\n\n    \n\n    return (\n        <div style={contentStyle}>\n            <img style={imgStyle} src={logo} alt=\"logo\" />\n            <form style={formStyle} onSubmit={handleSubmit}>\n                <input style={inputStyle} type=\"text\" placeholder=\"Username\" value={username} onChange={handleChange} />\n                <input style={inputStyle} type=\"password\" placeholder=\"Password\" value={password} onChange={handleChange} />\n                <input className=\"btn\" type=\"submit\" value=\"Submit\" />\n            </form>\n        \n            \n        </div>\n        \n    )\n    \n}"]},"metadata":{},"sourceType":"module"}